(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const v of p)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&d(w)}).observe(document,{childList:!0,subtree:!0});function c(p){const v={};return p.integrity&&(v.integrity=p.integrity),p.referrerPolicy&&(v.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?v.credentials="include":p.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(p){if(p.ep)return;p.ep=!0;const v=c(p);fetch(p.href,v)}})();function Bc(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ia={exports:{}},ci={},oa={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec;function df(){if(Ec)return Le;Ec=1;var o=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.iterator;function L(m){return m===null||typeof m!="object"?null:(m=B&&m[B]||m["@@iterator"],typeof m=="function"?m:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,M={};function R(m,S,q){this.props=m,this.context=S,this.refs=M,this.updater=q||I}R.prototype.isReactComponent={},R.prototype.setState=function(m,S){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,S,"setState")},R.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function Z(){}Z.prototype=R.prototype;function ee(m,S,q){this.props=m,this.context=S,this.refs=M,this.updater=q||I}var z=ee.prototype=new Z;z.constructor=ee,W(z,R.prototype),z.isPureReactComponent=!0;var x=Array.isArray,K=Object.prototype.hasOwnProperty,Q={current:null},Ne={key:!0,ref:!0,__self:!0,__source:!0};function xe(m,S,q){var he,ye={},ie=null,Re=null;if(S!=null)for(he in S.ref!==void 0&&(Re=S.ref),S.key!==void 0&&(ie=""+S.key),S)K.call(S,he)&&!Ne.hasOwnProperty(he)&&(ye[he]=S[he]);var Me=arguments.length-2;if(Me===1)ye.children=q;else if(1<Me){for(var $e=Array(Me),Qe=0;Qe<Me;Qe++)$e[Qe]=arguments[Qe+2];ye.children=$e}if(m&&m.defaultProps)for(he in Me=m.defaultProps,Me)ye[he]===void 0&&(ye[he]=Me[he]);return{$$typeof:o,type:m,key:ie,ref:Re,props:ye,_owner:Q.current}}function re(m,S){return{$$typeof:o,type:m.type,key:S,ref:m.ref,props:m.props,_owner:m._owner}}function b(m){return typeof m=="object"&&m!==null&&m.$$typeof===o}function te(m){var S={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(q){return S[q]})}var Ee=/\/+/g;function Ie(m,S){return typeof m=="object"&&m!==null&&m.key!=null?te(""+m.key):S.toString(36)}function pe(m,S,q,he,ye){var ie=typeof m;(ie==="undefined"||ie==="boolean")&&(m=null);var Re=!1;if(m===null)Re=!0;else switch(ie){case"string":case"number":Re=!0;break;case"object":switch(m.$$typeof){case o:case u:Re=!0}}if(Re)return Re=m,ye=ye(Re),m=he===""?"."+Ie(Re,0):he,x(ye)?(q="",m!=null&&(q=m.replace(Ee,"$&/")+"/"),pe(ye,S,q,"",function(Qe){return Qe})):ye!=null&&(b(ye)&&(ye=re(ye,q+(!ye.key||Re&&Re.key===ye.key?"":(""+ye.key).replace(Ee,"$&/")+"/")+m)),S.push(ye)),1;if(Re=0,he=he===""?".":he+":",x(m))for(var Me=0;Me<m.length;Me++){ie=m[Me];var $e=he+Ie(ie,Me);Re+=pe(ie,S,q,$e,ye)}else if($e=L(m),typeof $e=="function")for(m=$e.call(m),Me=0;!(ie=m.next()).done;)ie=ie.value,$e=he+Ie(ie,Me++),Re+=pe(ie,S,q,$e,ye);else if(ie==="object")throw S=String(m),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.");return Re}function ue(m,S,q){if(m==null)return m;var he=[],ye=0;return pe(m,he,"","",function(ie){return S.call(q,ie,ye++)}),he}function Pe(m){if(m._status===-1){var S=m._result;S=S(),S.then(function(q){(m._status===0||m._status===-1)&&(m._status=1,m._result=q)},function(q){(m._status===0||m._status===-1)&&(m._status=2,m._result=q)}),m._status===-1&&(m._status=0,m._result=S)}if(m._status===1)return m._result.default;throw m._result}var ne={current:null},D={transition:null},ae={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:D,ReactCurrentOwner:Q};function X(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:ue,forEach:function(m,S,q){ue(m,function(){S.apply(this,arguments)},q)},count:function(m){var S=0;return ue(m,function(){S++}),S},toArray:function(m){return ue(m,function(S){return S})||[]},only:function(m){if(!b(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},Le.Component=R,Le.Fragment=c,Le.Profiler=p,Le.PureComponent=ee,Le.StrictMode=d,Le.Suspense=C,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Le.act=X,Le.cloneElement=function(m,S,q){if(m==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+m+".");var he=W({},m.props),ye=m.key,ie=m.ref,Re=m._owner;if(S!=null){if(S.ref!==void 0&&(ie=S.ref,Re=Q.current),S.key!==void 0&&(ye=""+S.key),m.type&&m.type.defaultProps)var Me=m.type.defaultProps;for($e in S)K.call(S,$e)&&!Ne.hasOwnProperty($e)&&(he[$e]=S[$e]===void 0&&Me!==void 0?Me[$e]:S[$e])}var $e=arguments.length-2;if($e===1)he.children=q;else if(1<$e){Me=Array($e);for(var Qe=0;Qe<$e;Qe++)Me[Qe]=arguments[Qe+2];he.children=Me}return{$$typeof:o,type:m.type,key:ye,ref:ie,props:he,_owner:Re}},Le.createContext=function(m){return m={$$typeof:w,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},m.Provider={$$typeof:v,_context:m},m.Consumer=m},Le.createElement=xe,Le.createFactory=function(m){var S=xe.bind(null,m);return S.type=m,S},Le.createRef=function(){return{current:null}},Le.forwardRef=function(m){return{$$typeof:P,render:m}},Le.isValidElement=b,Le.lazy=function(m){return{$$typeof:O,_payload:{_status:-1,_result:m},_init:Pe}},Le.memo=function(m,S){return{$$typeof:j,type:m,compare:S===void 0?null:S}},Le.startTransition=function(m){var S=D.transition;D.transition={};try{m()}finally{D.transition=S}},Le.unstable_act=X,Le.useCallback=function(m,S){return ne.current.useCallback(m,S)},Le.useContext=function(m){return ne.current.useContext(m)},Le.useDebugValue=function(){},Le.useDeferredValue=function(m){return ne.current.useDeferredValue(m)},Le.useEffect=function(m,S){return ne.current.useEffect(m,S)},Le.useId=function(){return ne.current.useId()},Le.useImperativeHandle=function(m,S,q){return ne.current.useImperativeHandle(m,S,q)},Le.useInsertionEffect=function(m,S){return ne.current.useInsertionEffect(m,S)},Le.useLayoutEffect=function(m,S){return ne.current.useLayoutEffect(m,S)},Le.useMemo=function(m,S){return ne.current.useMemo(m,S)},Le.useReducer=function(m,S,q){return ne.current.useReducer(m,S,q)},Le.useRef=function(m){return ne.current.useRef(m)},Le.useState=function(m){return ne.current.useState(m)},Le.useSyncExternalStore=function(m,S,q){return ne.current.useSyncExternalStore(m,S,q)},Le.useTransition=function(){return ne.current.useTransition()},Le.version="18.3.1",Le}var jc;function pa(){return jc||(jc=1,oa.exports=df()),oa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc;function ff(){if(Cc)return ci;Cc=1;var o=pa(),u=Symbol.for("react.element"),c=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function w(P,C,j){var O,B={},L=null,I=null;j!==void 0&&(L=""+j),C.key!==void 0&&(L=""+C.key),C.ref!==void 0&&(I=C.ref);for(O in C)d.call(C,O)&&!v.hasOwnProperty(O)&&(B[O]=C[O]);if(P&&P.defaultProps)for(O in C=P.defaultProps,C)B[O]===void 0&&(B[O]=C[O]);return{$$typeof:u,type:P,key:L,ref:I,props:B,_owner:p.current}}return ci.Fragment=c,ci.jsx=w,ci.jsxs=w,ci}var Mc;function pf(){return Mc||(Mc=1,ia.exports=ff()),ia.exports}var s=pf(),k=pa();const hf=Bc(k);var So={},sa={exports:{}},$t={},aa={exports:{}},ua={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc;function mf(){return Tc||(Tc=1,(function(o){function u(D,ae){var X=D.length;D.push(ae);e:for(;0<X;){var m=X-1>>>1,S=D[m];if(0<p(S,ae))D[m]=ae,D[X]=S,X=m;else break e}}function c(D){return D.length===0?null:D[0]}function d(D){if(D.length===0)return null;var ae=D[0],X=D.pop();if(X!==ae){D[0]=X;e:for(var m=0,S=D.length,q=S>>>1;m<q;){var he=2*(m+1)-1,ye=D[he],ie=he+1,Re=D[ie];if(0>p(ye,X))ie<S&&0>p(Re,ye)?(D[m]=Re,D[ie]=X,m=ie):(D[m]=ye,D[he]=X,m=he);else if(ie<S&&0>p(Re,X))D[m]=Re,D[ie]=X,m=ie;else break e}}return ae}function p(D,ae){var X=D.sortIndex-ae.sortIndex;return X!==0?X:D.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;o.unstable_now=function(){return v.now()}}else{var w=Date,P=w.now();o.unstable_now=function(){return w.now()-P}}var C=[],j=[],O=1,B=null,L=3,I=!1,W=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(D){for(var ae=c(j);ae!==null;){if(ae.callback===null)d(j);else if(ae.startTime<=D)d(j),ae.sortIndex=ae.expirationTime,u(C,ae);else break;ae=c(j)}}function x(D){if(M=!1,z(D),!W)if(c(C)!==null)W=!0,Pe(K);else{var ae=c(j);ae!==null&&ne(x,ae.startTime-D)}}function K(D,ae){W=!1,M&&(M=!1,Z(xe),xe=-1),I=!0;var X=L;try{for(z(ae),B=c(C);B!==null&&(!(B.expirationTime>ae)||D&&!te());){var m=B.callback;if(typeof m=="function"){B.callback=null,L=B.priorityLevel;var S=m(B.expirationTime<=ae);ae=o.unstable_now(),typeof S=="function"?B.callback=S:B===c(C)&&d(C),z(ae)}else d(C);B=c(C)}if(B!==null)var q=!0;else{var he=c(j);he!==null&&ne(x,he.startTime-ae),q=!1}return q}finally{B=null,L=X,I=!1}}var Q=!1,Ne=null,xe=-1,re=5,b=-1;function te(){return!(o.unstable_now()-b<re)}function Ee(){if(Ne!==null){var D=o.unstable_now();b=D;var ae=!0;try{ae=Ne(!0,D)}finally{ae?Ie():(Q=!1,Ne=null)}}else Q=!1}var Ie;if(typeof ee=="function")Ie=function(){ee(Ee)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ue=pe.port2;pe.port1.onmessage=Ee,Ie=function(){ue.postMessage(null)}}else Ie=function(){R(Ee,0)};function Pe(D){Ne=D,Q||(Q=!0,Ie())}function ne(D,ae){xe=R(function(){D(o.unstable_now())},ae)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(D){D.callback=null},o.unstable_continueExecution=function(){W||I||(W=!0,Pe(K))},o.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<D?Math.floor(1e3/D):5},o.unstable_getCurrentPriorityLevel=function(){return L},o.unstable_getFirstCallbackNode=function(){return c(C)},o.unstable_next=function(D){switch(L){case 1:case 2:case 3:var ae=3;break;default:ae=L}var X=L;L=ae;try{return D()}finally{L=X}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(D,ae){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=L;L=D;try{return ae()}finally{L=X}},o.unstable_scheduleCallback=function(D,ae,X){var m=o.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?m+X:m):X=m,D){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=X+S,D={id:O++,callback:ae,priorityLevel:D,startTime:X,expirationTime:S,sortIndex:-1},X>m?(D.sortIndex=X,u(j,D),c(C)===null&&D===c(j)&&(M?(Z(xe),xe=-1):M=!0,ne(x,X-m))):(D.sortIndex=S,u(C,D),W||I||(W=!0,Pe(K))),D},o.unstable_shouldYield=te,o.unstable_wrapCallback=function(D){var ae=L;return function(){var X=L;L=ae;try{return D.apply(this,arguments)}finally{L=X}}}})(ua)),ua}var Pc;function yf(){return Pc||(Pc=1,aa.exports=mf()),aa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c;function gf(){if(_c)return $t;_c=1;var o=pa(),u=yf();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function v(e,t){w(e,t),w(e+"Capture",t)}function w(e,t){for(p[e]=t,e=0;e<t.length;e++)d.add(t[e])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C=Object.prototype.hasOwnProperty,j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O={},B={};function L(e){return C.call(B,e)?!0:C.call(O,e)?!1:j.test(e)?B[e]=!0:(O[e]=!0,!1)}function I(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W(e,t,n,r){if(t===null||typeof t>"u"||I(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function M(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function ee(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z,ee);R[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z,ee);R[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z,ee);R[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,n,r){var l=R.hasOwnProperty(t)?R[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W(t,n,l,r)&&(n=null),r||l===null?L(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var x=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),Q=Symbol.for("react.portal"),Ne=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),te=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),D=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,m;function S(e){if(m===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);m=t&&t[1]||""}return`
`+m+e}var q=!1;function he(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var r=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){r=T}e.call(t.prototype)}else{try{throw Error()}catch(T){r=T}e()}}catch(T){if(T&&r&&typeof T.stack=="string"){for(var l=T.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,f=i.length-1;1<=a&&0<=f&&l[a]!==i[f];)f--;for(;1<=a&&0<=f;a--,f--)if(l[a]!==i[f]){if(a!==1||f!==1)do if(a--,f--,0>f||l[a]!==i[f]){var y=`
`+l[a].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=a&&0<=f);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?S(e):""}function ye(e){switch(e.tag){case 5:return S(e.type);case 16:return S("Lazy");case 13:return S("Suspense");case 19:return S("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ne:return"Fragment";case Q:return"Portal";case re:return"Profiler";case xe:return"StrictMode";case Ie:return"Suspense";case pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case te:return(e.displayName||"Context")+".Consumer";case b:return(e._context.displayName||"Context")+".Provider";case Ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===xe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qe(e){var t=$e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function At(e){e._valueTracker||(e._valueTracker=Qe(e))}function yr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hn(e,t){var n=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Me(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function de(e,t){U(e,t);var n=Me(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ge(e,t.type,n):t.hasOwnProperty("defaultValue")&&ge(e,t.type,Me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ge(e,t,n){(t!=="number"||Yt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ve=Array.isArray;function we(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Me(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ge(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ze(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(c(92));if(ve(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Me(n)}}function et(e,t){var n=Me(t.value),r=Me(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kt,bt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gr=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(e){gr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mt[t]=mt[e]})});function Qn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mt.hasOwnProperty(e)&&mt[e]?(""+t).trim():t+"px"}function _t(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Qn(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var xr=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(e,t){if(t){if(xr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function Wr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qn=null;function vr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,En=null,wr=null;function zl(e){if(e=Kl(e)){if(typeof Il!="function")throw Error(c(280));var t=e.stateNode;t&&(t=Di(t),Il(e.stateNode,e.type,t))}}function di(e){En?wr?wr.push(e):wr=[e]:En=e}function Ll(){if(En){var e=En,t=wr;if(wr=En=null,zl(e),t)for(e=0;e<t.length;e++)zl(t[e])}}function Hr(e,t){return e(t)}function Gn(){}var nt=!1;function st(e,t,n){if(nt)return e(t,n);nt=!0;try{return Hr(e,t,n)}finally{nt=!1,(En!==null||wr!==null)&&(Gn(),Ll())}}function Kt(e,t){var n=e.stateNode;if(n===null)return null;var r=Di(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var St=!1;if(P)try{var on={};Object.defineProperty(on,"passive",{get:function(){St=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{St=!1}function Ft(e,t,n,r,l,i,a,f,y){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(F){this.onError(F)}}var Nt=!1,yt=null,sn=!1,kr=null,Sr={onError:function(e){Nt=!0,yt=e}};function Ln(e,t,n,r,l,i,a,f,y){Nt=!1,yt=null,Ft.apply(Sr,arguments)}function Yr(e,t,n,r,l,i,a,f,y){if(Ln.apply(this,arguments),Nt){if(Nt){var T=yt;Nt=!1,yt=null}else throw Error(c(198));sn||(sn=!0,kr=T)}}function an(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nr(e){if(an(e)!==e)throw Error(c(188))}function Mo(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Nr(l),e;if(i===r)return Nr(l),t;i=i.sibling}throw Error(c(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,f=l.child;f;){if(f===n){a=!0,n=l,r=i;break}if(f===r){a=!0,r=l,n=i;break}f=f.sibling}if(!a){for(f=i.child;f;){if(f===n){a=!0,n=i,r=l;break}if(f===r){a=!0,r=i,n=l;break}f=f.sibling}if(!a)throw Error(c(189))}}if(n.alternate!==r)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function fi(e){return e=Mo(e),e!==null?Ol(e):null}function Ol(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ol(e);if(t!==null)return t;e=e.sibling}return null}var Dl=u.unstable_scheduleCallback,It=u.unstable_cancelCallback,br=u.unstable_shouldYield,pi=u.unstable_requestPaint,Fe=u.unstable_now,To=u.unstable_getCurrentPriorityLevel,qt=u.unstable_ImmediatePriority,Ut=u.unstable_UserBlockingPriority,jn=u.unstable_NormalPriority,hi=u.unstable_LowPriority,mi=u.unstable_IdlePriority,Qr=null,Gt=null;function Po(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Qr,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:zo,_o=Math.log,Io=Math.LN2;function zo(e){return e>>>=0,e===0?32:31-(_o(e)/Io|0)|0}var Kr=64,qr=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cn(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var f=a&~l;f!==0?r=Zn(f):(i&=a,i!==0&&(r=Zn(i)))}else a=n&~l,a!==0?r=Zn(a):i!==0&&(r=Zn(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vt(t),l=1<<n,r|=e[n],t&=~l;return r}function yi(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Vt(i),f=1<<a,y=l[a];y===-1?((f&n)===0||(f&r)!==0)&&(l[a]=yi(f,t)):y<=t&&(e.expiredLanes|=f),i&=~f}}function $l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gi(){var e=Kr;return Kr<<=1,(Kr&4194240)===0&&(Kr=64),e}function Gr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Er(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function xi(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Vt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Zr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var je=0;function vi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var un,Jr,wi,_e,ki,Rn=!1,el=[],cn=null,dn=null,fn=null,On=new Map,jr=new Map,Mn=[],Ro="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tl(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":On.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function pn(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Kl(t),t!==null&&Jr(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Si(e,t,n,r,l){switch(t){case"focusin":return cn=pn(cn,e,t,n,r,l),!0;case"dragenter":return dn=pn(dn,e,t,n,r,l),!0;case"mouseover":return fn=pn(fn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return On.set(i,pn(On.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,jr.set(i,pn(jr.get(i)||null,e,t,n,r,l)),!0}return!1}function Ni(e){var t=zr(e.target);if(t!==null){var n=an(t);if(n!==null){if(t=n.tag,t===13){if(t=Rl(n),t!==null){e.blockedOn=t,ki(e.priority,function(){wi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ji(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qn=r,n.target.dispatchEvent(r),qn=null}else return t=Kl(n),t!==null&&Jr(t),e.blockedOn=n,!1;t.shift()}return!0}function Ei(e,t,n){Cr(e)&&n.delete(t)}function Oo(){Rn=!1,cn!==null&&Cr(cn)&&(cn=null),dn!==null&&Cr(dn)&&(dn=null),fn!==null&&Cr(fn)&&(fn=null),On.forEach(Ei),jr.forEach(Ei)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Rn||(Rn=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Oo)))}function Tr(e){function t(l){return Mr(l,e)}if(0<el.length){Mr(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cn!==null&&Mr(cn,e),dn!==null&&Mr(dn,e),fn!==null&&Mr(fn,e),On.forEach(t),jr.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Ni(n),n.blockedOn===null&&Mn.shift()}var Jn=x.ReactCurrentBatchConfig,Pr=!0;function Do(e,t,n,r){var l=je,i=Jn.transition;Jn.transition=null;try{je=1,Al(e,t,n,r)}finally{je=l,Jn.transition=i}}function $o(e,t,n,r){var l=je,i=Jn.transition;Jn.transition=null;try{je=4,Al(e,t,n,r)}finally{je=l,Jn.transition=i}}function Al(e,t,n,r){if(Pr){var l=ji(e,t,n,r);if(l===null)Ko(e,t,r,nl,n),tl(e,r);else if(Si(l,e,t,n,r))r.stopPropagation();else if(tl(e,r),t&4&&-1<Ro.indexOf(e)){for(;l!==null;){var i=Kl(l);if(i!==null&&un(i),i=ji(e,t,n,r),i===null&&Ko(e,t,r,nl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Ko(e,t,r,null,n)}}var nl=null;function ji(e,t,n,r){if(nl=null,e=vr(r),e=zr(e),e!==null)if(t=an(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function _r(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(To()){case qt:return 1;case Ut:return 4;case jn:case hi:return 16;case mi:return 536870912;default:return 16}default:return 16}}var hn=null,lt=null,rl=null;function Fl(){if(rl)return rl;var e,t=lt,n=t.length,r,l="value"in hn?hn.value:hn.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return rl=l.slice(e,1<r?1-r:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function Ci(){return!1}function Et(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?il:Ci,this.isPropagationStopped=Ci,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Et(Dn),er=X({},Dn,{view:0,detail:0}),Mi=Et(er),sl,al,tr,Ir=X({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ct,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(sl=e.screenX-tr.screenX,al=e.screenY-tr.screenY):al=sl=0,tr=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:al}}),h=Et(Ir),_=X({},Ir,{dataTransfer:0}),J=Et(_),Y=X({},er,{relatedTarget:0}),G=Et(Y),Oe=X({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ce=Et(Oe),ze=X({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ue=Et(ze),Ve=X({},Dn,{data:0}),Be=Et(Ve),jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mn[e])?!!t[e]:!1}function Ct(){return Zt}var Ti=X({},er,{key:function(e){if(e.key){var t=jt[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ft[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ct,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ao=Et(Ti),Zc=X({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ma=Et(Zc),Jc=X({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ct}),ed=Et(Jc),td=X({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nd=Et(td),rd=X({},Ir,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ld=Et(rd),id=[9,13,27,32],Fo=P&&"CompositionEvent"in window,Ul=null;P&&"documentMode"in document&&(Ul=document.documentMode);var od=P&&"TextEvent"in window&&!Ul,ya=P&&(!Fo||Ul&&8<Ul&&11>=Ul),ga=" ",xa=!1;function va(e,t){switch(e){case"keyup":return id.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ul=!1;function sd(e,t){switch(e){case"compositionend":return wa(t);case"keypress":return t.which!==32?null:(xa=!0,ga);case"textInput":return e=t.data,e===ga&&xa?null:e;default:return null}}function ad(e,t){if(ul)return e==="compositionend"||!Fo&&va(e,t)?(e=Fl(),rl=lt=hn=null,ul=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ya&&t.locale!=="ko"?null:t.data;default:return null}}var ud={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ud[e.type]:t==="textarea"}function Sa(e,t,n,r){di(r),t=Li(t,"onChange"),0<t.length&&(n=new ol("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vl=null,Xl=null;function cd(e){Ua(e,0)}function Pi(e){var t=hl(e);if(yr(t))return e}function dd(e,t){if(e==="change")return t}var Na=!1;if(P){var Uo;if(P){var Vo="oninput"in document;if(!Vo){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),Vo=typeof Ea.oninput=="function"}Uo=Vo}else Uo=!1;Na=Uo&&(!document.documentMode||9<document.documentMode)}function ja(){Vl&&(Vl.detachEvent("onpropertychange",Ca),Xl=Vl=null)}function Ca(e){if(e.propertyName==="value"&&Pi(Xl)){var t=[];Sa(t,Xl,e,vr(e)),st(cd,t)}}function fd(e,t,n){e==="focusin"?(ja(),Vl=t,Xl=n,Vl.attachEvent("onpropertychange",Ca)):e==="focusout"&&ja()}function pd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(Xl)}function hd(e,t){if(e==="click")return Pi(t)}function md(e,t){if(e==="input"||e==="change")return Pi(t)}function yd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:yd;function Bl(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!C.call(t,l)||!yn(e[l],t[l]))return!1}return!0}function Ma(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ta(e,t){var n=Ma(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ma(n)}}function Pa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _a(){for(var e=window,t=Yt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yt(e.document)}return t}function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gd(e){var t=_a(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pa(n.ownerDocument.documentElement,n)){if(r!==null&&Xo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Ta(n,i);var a=Ta(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xd=P&&"documentMode"in document&&11>=document.documentMode,cl=null,Bo=null,Wl=null,Wo=!1;function Ia(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wo||cl==null||cl!==Yt(r)||(r=cl,"selectionStart"in r&&Xo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wl&&Bl(Wl,r)||(Wl=r,r=Li(Bo,"onSelect"),0<r.length&&(t=new ol("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cl)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dl={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},Ho={},za={};P&&(za=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Ii(e){if(Ho[e])return Ho[e];if(!dl[e])return e;var t=dl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in za)return Ho[e]=t[n];return e}var La=Ii("animationend"),Ra=Ii("animationiteration"),Oa=Ii("animationstart"),Da=Ii("transitionend"),$a=new Map,Aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){$a.set(e,t),v(t,[e])}for(var Yo=0;Yo<Aa.length;Yo++){var bo=Aa[Yo],vd=bo.toLowerCase(),wd=bo[0].toUpperCase()+bo.slice(1);nr(vd,"on"+wd)}nr(La,"onAnimationEnd"),nr(Ra,"onAnimationIteration"),nr(Oa,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Da,"onTransitionEnd"),w("onMouseEnter",["mouseout","mouseover"]),w("onMouseLeave",["mouseout","mouseover"]),w("onPointerEnter",["pointerout","pointerover"]),w("onPointerLeave",["pointerout","pointerover"]),v("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),v("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),v("onBeforeInput",["compositionend","keypress","textInput","paste"]),v("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function Fa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yr(r,t,void 0,e),e.currentTarget=null}function Ua(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var f=r[a],y=f.instance,T=f.currentTarget;if(f=f.listener,y!==i&&l.isPropagationStopped())break e;Fa(l,f,T),i=y}else for(a=0;a<r.length;a++){if(f=r[a],y=f.instance,T=f.currentTarget,f=f.listener,y!==i&&l.isPropagationStopped())break e;Fa(l,f,T),i=y}}}if(sn)throw e=kr,sn=!1,kr=null,e}function He(e,t){var n=t[ts];n===void 0&&(n=t[ts]=new Set);var r=e+"__bubble";n.has(r)||(Va(t,e,2,!1),n.add(r))}function Qo(e,t,n){var r=0;t&&(r|=4),Va(n,e,r,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[zi]){e[zi]=!0,d.forEach(function(n){n!=="selectionchange"&&(kd.has(n)||Qo(n,!1,e),Qo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zi]||(t[zi]=!0,Qo("selectionchange",!1,t))}}function Va(e,t,n,r){switch(_r(t)){case 1:var l=Do;break;case 4:l=$o;break;default:l=Al}n=l.bind(null,t,n,e),l=void 0,!St||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ko(e,t,n,r,l){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var f=r.stateNode.containerInfo;if(f===l||f.nodeType===8&&f.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var y=a.tag;if((y===3||y===4)&&(y=a.stateNode.containerInfo,y===l||y.nodeType===8&&y.parentNode===l))return;a=a.return}for(;f!==null;){if(a=zr(f),a===null)return;if(y=a.tag,y===5||y===6){r=i=a;continue e}f=f.parentNode}}r=r.return}st(function(){var T=i,F=vr(n),V=[];e:{var A=$a.get(e);if(A!==void 0){var le=ol,ce=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":le=Ao;break;case"focusin":ce="focus",le=G;break;case"focusout":ce="blur",le=G;break;case"beforeblur":case"afterblur":le=G;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=J;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=ed;break;case La:case Ra:case Oa:le=Ce;break;case Da:le=nd;break;case"scroll":le=Mi;break;case"wheel":le=ld;break;case"copy":case"cut":case"paste":le=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=ma}var fe=(t&4)!==0,tt=!fe&&e==="scroll",N=fe?A!==null?A+"Capture":null:A;fe=[];for(var g=T,E;g!==null;){E=g;var H=E.stateNode;if(E.tag===5&&H!==null&&(E=H,N!==null&&(H=Kt(g,N),H!=null&&fe.push(bl(g,H,E)))),tt)break;g=g.return}0<fe.length&&(A=new le(A,ce,null,n,F),V.push({event:A,listeners:fe}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",A&&n!==qn&&(ce=n.relatedTarget||n.fromElement)&&(zr(ce)||ce[$n]))break e;if((le||A)&&(A=F.window===F?F:(A=F.ownerDocument)?A.defaultView||A.parentWindow:window,le?(ce=n.relatedTarget||n.toElement,le=T,ce=ce?zr(ce):null,ce!==null&&(tt=an(ce),ce!==tt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(le=null,ce=T),le!==ce)){if(fe=h,H="onMouseLeave",N="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(fe=ma,H="onPointerLeave",N="onPointerEnter",g="pointer"),tt=le==null?A:hl(le),E=ce==null?A:hl(ce),A=new fe(H,g+"leave",le,n,F),A.target=tt,A.relatedTarget=E,H=null,zr(F)===T&&(fe=new fe(N,g+"enter",ce,n,F),fe.target=E,fe.relatedTarget=tt,H=fe),tt=H,le&&ce)t:{for(fe=le,N=ce,g=0,E=fe;E;E=fl(E))g++;for(E=0,H=N;H;H=fl(H))E++;for(;0<g-E;)fe=fl(fe),g--;for(;0<E-g;)N=fl(N),E--;for(;g--;){if(fe===N||N!==null&&fe===N.alternate)break t;fe=fl(fe),N=fl(N)}fe=null}else fe=null;le!==null&&Xa(V,A,le,fe,!1),ce!==null&&tt!==null&&Xa(V,tt,ce,fe,!0)}}e:{if(A=T?hl(T):window,le=A.nodeName&&A.nodeName.toLowerCase(),le==="select"||le==="input"&&A.type==="file")var me=dd;else if(ka(A))if(Na)me=md;else{me=pd;var ke=fd}else(le=A.nodeName)&&le.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(me=hd);if(me&&(me=me(e,T))){Sa(V,me,n,F);break e}ke&&ke(e,A,T),e==="focusout"&&(ke=A._wrapperState)&&ke.controlled&&A.type==="number"&&ge(A,"number",A.value)}switch(ke=T?hl(T):window,e){case"focusin":(ka(ke)||ke.contentEditable==="true")&&(cl=ke,Bo=T,Wl=null);break;case"focusout":Wl=Bo=cl=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,Ia(V,n,F);break;case"selectionchange":if(xd)break;case"keydown":case"keyup":Ia(V,n,F)}var Se;if(Fo)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ul?va(e,n)&&(Te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Te="onCompositionStart");Te&&(ya&&n.locale!=="ko"&&(ul||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ul&&(Se=Fl()):(hn=F,lt="value"in hn?hn.value:hn.textContent,ul=!0)),ke=Li(T,Te),0<ke.length&&(Te=new Be(Te,e,null,n,F),V.push({event:Te,listeners:ke}),Se?Te.data=Se:(Se=wa(n),Se!==null&&(Te.data=Se)))),(Se=od?sd(e,n):ad(e,n))&&(T=Li(T,"onBeforeInput"),0<T.length&&(F=new Be("onBeforeInput","beforeinput",null,n,F),V.push({event:F,listeners:T}),F.data=Se))}Ua(V,t)})}function bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Li(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Kt(e,n),i!=null&&r.unshift(bl(e,i,l)),i=Kt(e,t),i!=null&&r.push(bl(e,i,l))),e=e.return}return r}function fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xa(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var f=n,y=f.alternate,T=f.stateNode;if(y!==null&&y===r)break;f.tag===5&&T!==null&&(f=T,l?(y=Kt(n,i),y!=null&&a.unshift(bl(n,y,f))):l||(y=Kt(n,i),y!=null&&a.push(bl(n,y,f)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Sd=/\r\n?/g,Nd=/\u0000|\uFFFD/g;function Ba(e){return(typeof e=="string"?e:""+e).replace(Sd,`
`).replace(Nd,"")}function Ri(e,t,n){if(t=Ba(t),Ba(e)!==t&&n)throw Error(c(425))}function Oi(){}var qo=null,Go=null;function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jo=typeof setTimeout=="function"?setTimeout:void 0,Ed=typeof clearTimeout=="function"?clearTimeout:void 0,Wa=typeof Promise=="function"?Promise:void 0,jd=typeof queueMicrotask=="function"?queueMicrotask:typeof Wa<"u"?function(e){return Wa.resolve(null).then(e).catch(Cd)}:Jo;function Cd(e){setTimeout(function(){throw e})}function es(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Tr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Tr(t)}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ha(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pl=Math.random().toString(36).slice(2),Tn="__reactFiber$"+pl,Ql="__reactProps$"+pl,$n="__reactContainer$"+pl,ts="__reactEvents$"+pl,Md="__reactListeners$"+pl,Td="__reactHandles$"+pl;function zr(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$n]||n[Tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ha(e);e!==null;){if(n=e[Tn])return n;e=Ha(e)}return t}e=n,n=e.parentNode}return null}function Kl(e){return e=e[Tn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function Di(e){return e[Ql]||null}var ns=[],ml=-1;function lr(e){return{current:e}}function Ye(e){0>ml||(e.current=ns[ml],ns[ml]=null,ml--)}function We(e,t){ml++,ns[ml]=e.current,e.current=t}var ir={},gt=lr(ir),zt=lr(!1),Lr=ir;function yl(e,t){var n=e.type.contextTypes;if(!n)return ir;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Lt(e){return e=e.childContextTypes,e!=null}function $i(){Ye(zt),Ye(gt)}function Ya(e,t,n){if(gt.current!==ir)throw Error(c(168));We(gt,t),We(zt,n)}function ba(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(c(108,Re(e)||"Unknown",l));return X({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,Lr=gt.current,We(gt,e),We(zt,zt.current),!0}function Qa(e,t,n){var r=e.stateNode;if(!r)throw Error(c(169));n?(e=ba(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,Ye(zt),Ye(gt),We(gt,e)):Ye(zt),We(zt,n)}var An=null,Fi=!1,rs=!1;function Ka(e){An===null?An=[e]:An.push(e)}function Pd(e){Fi=!0,Ka(e)}function or(){if(!rs&&An!==null){rs=!0;var e=0,t=je;try{var n=An;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}An=null,Fi=!1}catch(l){throw An!==null&&(An=An.slice(e+1)),Dl(qt,or),l}finally{je=t,rs=!1}}return null}var gl=[],xl=0,Ui=null,Vi=0,Jt=[],en=0,Rr=null,Fn=1,Un="";function Or(e,t){gl[xl++]=Vi,gl[xl++]=Ui,Ui=e,Vi=t}function qa(e,t,n){Jt[en++]=Fn,Jt[en++]=Un,Jt[en++]=Rr,Rr=e;var r=Fn;e=Un;var l=32-Vt(r)-1;r&=~(1<<l),n+=1;var i=32-Vt(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,Fn=1<<32-Vt(t)+l|n<<l|r,Un=i+e}else Fn=1<<i|n<<l|r,Un=e}function ls(e){e.return!==null&&(Or(e,1),qa(e,1,0))}function is(e){for(;e===Ui;)Ui=gl[--xl],gl[xl]=null,Vi=gl[--xl],gl[xl]=null;for(;e===Rr;)Rr=Jt[--en],Jt[en]=null,Un=Jt[--en],Jt[en]=null,Fn=Jt[--en],Jt[en]=null}var Xt=null,Bt=null,be=!1,gn=null;function Ga(e,t){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Za(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Bt=rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:Fn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xt=e,Bt=null,!0):!1;default:return!1}}function os(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ss(e){if(be){var t=Bt;if(t){var n=t;if(!Za(e,t)){if(os(e))throw Error(c(418));t=rr(n.nextSibling);var r=Xt;t&&Za(e,t)?Ga(r,n):(e.flags=e.flags&-4097|2,be=!1,Xt=e)}}else{if(os(e))throw Error(c(418));e.flags=e.flags&-4097|2,be=!1,Xt=e}}}function Ja(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Xi(e){if(e!==Xt)return!1;if(!be)return Ja(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zo(e.type,e.memoizedProps)),t&&(t=Bt)){if(os(e))throw eu(),Error(c(418));for(;t;)Ga(e,t),t=rr(t.nextSibling)}if(Ja(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bt=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Xt?rr(e.stateNode.nextSibling):null;return!0}function eu(){for(var e=Bt;e;)e=rr(e.nextSibling)}function vl(){Bt=Xt=null,be=!1}function as(e){gn===null?gn=[e]:gn.push(e)}var _d=x.ReactCurrentBatchConfig;function ql(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(c(309));var r=n.stateNode}if(!r)throw Error(c(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var f=l.refs;a===null?delete f[i]:f[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function Bi(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tu(e){var t=e._init;return t(e._payload)}function nu(e){function t(N,g){if(e){var E=N.deletions;E===null?(N.deletions=[g],N.flags|=16):E.push(g)}}function n(N,g){if(!e)return null;for(;g!==null;)t(N,g),g=g.sibling;return null}function r(N,g){for(N=new Map;g!==null;)g.key!==null?N.set(g.key,g):N.set(g.index,g),g=g.sibling;return N}function l(N,g){return N=hr(N,g),N.index=0,N.sibling=null,N}function i(N,g,E){return N.index=E,e?(E=N.alternate,E!==null?(E=E.index,E<g?(N.flags|=2,g):E):(N.flags|=2,g)):(N.flags|=1048576,g)}function a(N){return e&&N.alternate===null&&(N.flags|=2),N}function f(N,g,E,H){return g===null||g.tag!==6?(g=Js(E,N.mode,H),g.return=N,g):(g=l(g,E),g.return=N,g)}function y(N,g,E,H){var me=E.type;return me===Ne?F(N,g,E.props.children,H,E.key):g!==null&&(g.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Pe&&tu(me)===g.type)?(H=l(g,E.props),H.ref=ql(N,g,E),H.return=N,H):(H=ho(E.type,E.key,E.props,null,N.mode,H),H.ref=ql(N,g,E),H.return=N,H)}function T(N,g,E,H){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=ea(E,N.mode,H),g.return=N,g):(g=l(g,E.children||[]),g.return=N,g)}function F(N,g,E,H,me){return g===null||g.tag!==7?(g=Br(E,N.mode,H,me),g.return=N,g):(g=l(g,E),g.return=N,g)}function V(N,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Js(""+g,N.mode,E),g.return=N,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case K:return E=ho(g.type,g.key,g.props,null,N.mode,E),E.ref=ql(N,null,g),E.return=N,E;case Q:return g=ea(g,N.mode,E),g.return=N,g;case Pe:var H=g._init;return V(N,H(g._payload),E)}if(ve(g)||ae(g))return g=Br(g,N.mode,E,null),g.return=N,g;Bi(N,g)}return null}function A(N,g,E,H){var me=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return me!==null?null:f(N,g,""+E,H);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case K:return E.key===me?y(N,g,E,H):null;case Q:return E.key===me?T(N,g,E,H):null;case Pe:return me=E._init,A(N,g,me(E._payload),H)}if(ve(E)||ae(E))return me!==null?null:F(N,g,E,H,null);Bi(N,E)}return null}function le(N,g,E,H,me){if(typeof H=="string"&&H!==""||typeof H=="number")return N=N.get(E)||null,f(g,N,""+H,me);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case K:return N=N.get(H.key===null?E:H.key)||null,y(g,N,H,me);case Q:return N=N.get(H.key===null?E:H.key)||null,T(g,N,H,me);case Pe:var ke=H._init;return le(N,g,E,ke(H._payload),me)}if(ve(H)||ae(H))return N=N.get(E)||null,F(g,N,H,me,null);Bi(g,H)}return null}function ce(N,g,E,H){for(var me=null,ke=null,Se=g,Te=g=0,ct=null;Se!==null&&Te<E.length;Te++){Se.index>Te?(ct=Se,Se=null):ct=Se.sibling;var Ae=A(N,Se,E[Te],H);if(Ae===null){Se===null&&(Se=ct);break}e&&Se&&Ae.alternate===null&&t(N,Se),g=i(Ae,g,Te),ke===null?me=Ae:ke.sibling=Ae,ke=Ae,Se=ct}if(Te===E.length)return n(N,Se),be&&Or(N,Te),me;if(Se===null){for(;Te<E.length;Te++)Se=V(N,E[Te],H),Se!==null&&(g=i(Se,g,Te),ke===null?me=Se:ke.sibling=Se,ke=Se);return be&&Or(N,Te),me}for(Se=r(N,Se);Te<E.length;Te++)ct=le(Se,N,Te,E[Te],H),ct!==null&&(e&&ct.alternate!==null&&Se.delete(ct.key===null?Te:ct.key),g=i(ct,g,Te),ke===null?me=ct:ke.sibling=ct,ke=ct);return e&&Se.forEach(function(mr){return t(N,mr)}),be&&Or(N,Te),me}function fe(N,g,E,H){var me=ae(E);if(typeof me!="function")throw Error(c(150));if(E=me.call(E),E==null)throw Error(c(151));for(var ke=me=null,Se=g,Te=g=0,ct=null,Ae=E.next();Se!==null&&!Ae.done;Te++,Ae=E.next()){Se.index>Te?(ct=Se,Se=null):ct=Se.sibling;var mr=A(N,Se,Ae.value,H);if(mr===null){Se===null&&(Se=ct);break}e&&Se&&mr.alternate===null&&t(N,Se),g=i(mr,g,Te),ke===null?me=mr:ke.sibling=mr,ke=mr,Se=ct}if(Ae.done)return n(N,Se),be&&Or(N,Te),me;if(Se===null){for(;!Ae.done;Te++,Ae=E.next())Ae=V(N,Ae.value,H),Ae!==null&&(g=i(Ae,g,Te),ke===null?me=Ae:ke.sibling=Ae,ke=Ae);return be&&Or(N,Te),me}for(Se=r(N,Se);!Ae.done;Te++,Ae=E.next())Ae=le(Se,N,Te,Ae.value,H),Ae!==null&&(e&&Ae.alternate!==null&&Se.delete(Ae.key===null?Te:Ae.key),g=i(Ae,g,Te),ke===null?me=Ae:ke.sibling=Ae,ke=Ae);return e&&Se.forEach(function(cf){return t(N,cf)}),be&&Or(N,Te),me}function tt(N,g,E,H){if(typeof E=="object"&&E!==null&&E.type===Ne&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case K:e:{for(var me=E.key,ke=g;ke!==null;){if(ke.key===me){if(me=E.type,me===Ne){if(ke.tag===7){n(N,ke.sibling),g=l(ke,E.props.children),g.return=N,N=g;break e}}else if(ke.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Pe&&tu(me)===ke.type){n(N,ke.sibling),g=l(ke,E.props),g.ref=ql(N,ke,E),g.return=N,N=g;break e}n(N,ke);break}else t(N,ke);ke=ke.sibling}E.type===Ne?(g=Br(E.props.children,N.mode,H,E.key),g.return=N,N=g):(H=ho(E.type,E.key,E.props,null,N.mode,H),H.ref=ql(N,g,E),H.return=N,N=H)}return a(N);case Q:e:{for(ke=E.key;g!==null;){if(g.key===ke)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(N,g.sibling),g=l(g,E.children||[]),g.return=N,N=g;break e}else{n(N,g);break}else t(N,g);g=g.sibling}g=ea(E,N.mode,H),g.return=N,N=g}return a(N);case Pe:return ke=E._init,tt(N,g,ke(E._payload),H)}if(ve(E))return ce(N,g,E,H);if(ae(E))return fe(N,g,E,H);Bi(N,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(N,g.sibling),g=l(g,E),g.return=N,N=g):(n(N,g),g=Js(E,N.mode,H),g.return=N,N=g),a(N)):n(N,g)}return tt}var wl=nu(!0),ru=nu(!1),Wi=lr(null),Hi=null,kl=null,us=null;function cs(){us=kl=Hi=null}function ds(e){var t=Wi.current;Ye(Wi),e._currentValue=t}function fs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sl(e,t){Hi=e,us=kl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Rt=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(us!==e)if(e={context:e,memoizedValue:t,next:null},kl===null){if(Hi===null)throw Error(c(308));kl=e,Hi.dependencies={lanes:0,firstContext:e}}else kl=kl.next=e;return t}var Dr=null;function ps(e){Dr===null?Dr=[e]:Dr.push(e)}function lu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ps(t)):(n.next=l.next,l.next=n),t.interleaved=n,Vn(e,r)}function Vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ar(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Vn(e,n)}return l=r.interleaved,l===null?(t.next=t,ps(r)):(t.next=l.next,l.next=t),r.interleaved=t,Vn(e,n)}function Yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zr(e,n)}}function ou(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bi(e,t,n,r){var l=e.updateQueue;sr=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,f=l.shared.pending;if(f!==null){l.shared.pending=null;var y=f,T=y.next;y.next=null,a===null?i=T:a.next=T,a=y;var F=e.alternate;F!==null&&(F=F.updateQueue,f=F.lastBaseUpdate,f!==a&&(f===null?F.firstBaseUpdate=T:f.next=T,F.lastBaseUpdate=y))}if(i!==null){var V=l.baseState;a=0,F=T=y=null,f=i;do{var A=f.lane,le=f.eventTime;if((r&A)===A){F!==null&&(F=F.next={eventTime:le,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var ce=e,fe=f;switch(A=t,le=n,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){V=ce.call(le,V,A);break e}V=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,A=typeof ce=="function"?ce.call(le,V,A):ce,A==null)break e;V=X({},V,A);break e;case 2:sr=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,A=l.effects,A===null?l.effects=[f]:A.push(f))}else le={eventTime:le,lane:A,tag:f.tag,payload:f.payload,callback:f.callback,next:null},F===null?(T=F=le,y=V):F=F.next=le,a|=A;if(f=f.next,f===null){if(f=l.shared.pending,f===null)break;A=f,f=A.next,A.next=null,l.lastBaseUpdate=A,l.shared.pending=null}}while(!0);if(F===null&&(y=V),l.baseState=y,l.firstBaseUpdate=T,l.lastBaseUpdate=F,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Fr|=a,e.lanes=a,e.memoizedState=V}}function su(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(c(191,l));l.call(r)}}}var Gl={},Pn=lr(Gl),Zl=lr(Gl),Jl=lr(Gl);function $r(e){if(e===Gl)throw Error(c(174));return e}function ms(e,t){switch(We(Jl,t),We(Zl,e),We(Pn,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bn(t,e)}Ye(Pn),We(Pn,t)}function Nl(){Ye(Pn),Ye(Zl),Ye(Jl)}function au(e){$r(Jl.current);var t=$r(Pn.current),n=bn(t,e.type);t!==n&&(We(Zl,e),We(Pn,n))}function ys(e){Zl.current===e&&(Ye(Pn),Ye(Zl))}var Ke=lr(0);function Qi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gs=[];function xs(){for(var e=0;e<gs.length;e++)gs[e]._workInProgressVersionPrimary=null;gs.length=0}var Ki=x.ReactCurrentDispatcher,vs=x.ReactCurrentBatchConfig,Ar=0,qe=null,it=null,at=null,qi=!1,ei=!1,ti=0,Id=0;function xt(){throw Error(c(321))}function ws(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function ks(e,t,n,r,l,i){if(Ar=i,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ki.current=e===null||e.memoizedState===null?Od:Dd,e=n(r,l),ei){i=0;do{if(ei=!1,ti=0,25<=i)throw Error(c(301));i+=1,at=it=null,t.updateQueue=null,Ki.current=$d,e=n(r,l)}while(ei)}if(Ki.current=Ji,t=it!==null&&it.next!==null,Ar=0,at=it=qe=null,qi=!1,t)throw Error(c(300));return e}function Ss(){var e=ti!==0;return ti=0,e}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?qe.memoizedState=at=e:at=at.next=e,at}function nn(){if(it===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=at===null?qe.memoizedState:at.next;if(t!==null)at=t,it=e;else{if(e===null)throw Error(c(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},at===null?qe.memoizedState=at=e:at=at.next=e}return at}function ni(e,t){return typeof t=="function"?t(e):t}function Ns(e){var t=nn(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var r=it,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var f=a=null,y=null,T=i;do{var F=T.lane;if((Ar&F)===F)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),r=T.hasEagerState?T.eagerState:e(r,T.action);else{var V={lane:F,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(f=y=V,a=r):y=y.next=V,qe.lanes|=F,Fr|=F}T=T.next}while(T!==null&&T!==i);y===null?a=r:y.next=f,yn(r,t.memoizedState)||(Rt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=y,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,qe.lanes|=i,Fr|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=nn(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);yn(i,t.memoizedState)||(Rt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function uu(){}function cu(e,t){var n=qe,r=nn(),l=t(),i=!yn(r.memoizedState,l);if(i&&(r.memoizedState=l,Rt=!0),r=r.queue,js(pu.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,ri(9,fu.bind(null,n,r,l,t),void 0,null),ut===null)throw Error(c(349));(Ar&30)!==0||du(n,t,l)}return l}function du(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fu(e,t,n,r){t.value=n,t.getSnapshot=r,hu(t)&&mu(e)}function pu(e,t,n){return n(function(){hu(t)&&mu(e)})}function hu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function mu(e){var t=Vn(e,1);t!==null&&kn(t,e,1,-1)}function yu(e){var t=_n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t.queue=e,e=e.dispatch=Rd.bind(null,qe,e),[t.memoizedState,e]}function ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gu(){return nn().memoizedState}function Gi(e,t,n,r){var l=_n();qe.flags|=e,l.memoizedState=ri(1|t,n,void 0,r===void 0?null:r)}function Zi(e,t,n,r){var l=nn();r=r===void 0?null:r;var i=void 0;if(it!==null){var a=it.memoizedState;if(i=a.destroy,r!==null&&ws(r,a.deps)){l.memoizedState=ri(t,n,i,r);return}}qe.flags|=e,l.memoizedState=ri(1|t,n,i,r)}function xu(e,t){return Gi(8390656,8,e,t)}function js(e,t){return Zi(2048,8,e,t)}function vu(e,t){return Zi(4,2,e,t)}function wu(e,t){return Zi(4,4,e,t)}function ku(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Su(e,t,n){return n=n!=null?n.concat([e]):null,Zi(4,4,ku.bind(null,t,e),n)}function Cs(){}function Nu(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ws(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eu(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ws(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ju(e,t,n){return(Ar&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=n):(yn(n,t)||(n=gi(),qe.lanes|=n,Fr|=n,e.baseState=!0),t)}function zd(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=vs.transition;vs.transition={};try{e(!1),t()}finally{je=n,vs.transition=r}}function Cu(){return nn().memoizedState}function Ld(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mu(e))Tu(t,n);else if(n=lu(e,t,n,r),n!==null){var l=Tt();kn(n,e,r,l),Pu(n,t,r)}}function Rd(e,t,n){var r=fr(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))Tu(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,f=i(a,n);if(l.hasEagerState=!0,l.eagerState=f,yn(f,a)){var y=t.interleaved;y===null?(l.next=l,ps(t)):(l.next=y.next,y.next=l),t.interleaved=l;return}}catch{}finally{}n=lu(e,t,l,r),n!==null&&(l=Tt(),kn(n,e,r,l),Pu(n,t,r))}}function Mu(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Tu(e,t){ei=qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zr(e,n)}}var Ji={readContext:tn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Od={readContext:tn,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:xu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4194308,4,ku.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gi(4,2,e,t)},useMemo:function(e,t){var n=_n();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_n();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ld.bind(null,qe,e),[r.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:yu,useDebugValue:Cs,useDeferredValue:function(e){return _n().memoizedState=e},useTransition:function(){var e=yu(!1),t=e[0];return e=zd.bind(null,e[1]),_n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qe,l=_n();if(be){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),ut===null)throw Error(c(349));(Ar&30)!==0||du(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,xu(pu.bind(null,r,i,e),[e]),r.flags|=2048,ri(9,fu.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_n(),t=ut.identifierPrefix;if(be){var n=Un,r=Fn;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ti++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Id++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dd={readContext:tn,useCallback:Nu,useContext:tn,useEffect:js,useImperativeHandle:Su,useInsertionEffect:vu,useLayoutEffect:wu,useMemo:Eu,useReducer:Ns,useRef:gu,useState:function(){return Ns(ni)},useDebugValue:Cs,useDeferredValue:function(e){var t=nn();return ju(t,it.memoizedState,e)},useTransition:function(){var e=Ns(ni)[0],t=nn().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:cu,useId:Cu,unstable_isNewReconciler:!1},$d={readContext:tn,useCallback:Nu,useContext:tn,useEffect:js,useImperativeHandle:Su,useInsertionEffect:vu,useLayoutEffect:wu,useMemo:Eu,useReducer:Es,useRef:gu,useState:function(){return Es(ni)},useDebugValue:Cs,useDeferredValue:function(e){var t=nn();return it===null?t.memoizedState=e:ju(t,it.memoizedState,e)},useTransition:function(){var e=Es(ni)[0],t=nn().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:cu,useId:Cu,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ms(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:X({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eo={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tt(),l=fr(e),i=Xn(r,l);i.payload=t,n!=null&&(i.callback=n),t=ar(e,i,l),t!==null&&(kn(t,e,l,r),Yi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tt(),l=fr(e),i=Xn(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ar(e,i,l),t!==null&&(kn(t,e,l,r),Yi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),r=fr(e),l=Xn(n,r);l.tag=2,t!=null&&(l.callback=t),t=ar(e,l,r),t!==null&&(kn(t,e,r,n),Yi(t,e,r))}};function _u(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,r)||!Bl(l,i):!0}function Iu(e,t,n){var r=!1,l=ir,i=t.contextType;return typeof i=="object"&&i!==null?i=tn(i):(l=Lt(t)?Lr:gt.current,r=t.contextTypes,i=(r=r!=null)?yl(e,l):ir),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function zu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function Ts(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},hs(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=tn(i):(i=Lt(t)?Lr:gt.current,l.context=yl(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ms(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&eo.enqueueReplaceState(l,l.state,null),bi(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function El(e,t){try{var n="",r=t;do n+=ye(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Ps(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _s(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ad=typeof WeakMap=="function"?WeakMap:Map;function Lu(e,t,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){so||(so=!0,Hs=r),_s(e,t)},n}function Ru(e,t,n){n=Xn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){_s(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_s(e,t),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ou(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ad;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Zd.bind(null,e,t,n),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $u(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xn(-1,1),t.tag=2,ar(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Fd=x.ReactCurrentOwner,Rt=!1;function Mt(e,t,n,r){t.child=e===null?ru(t,null,n,r):wl(t,e.child,n,r)}function Au(e,t,n,r,l){n=n.render;var i=t.ref;return Sl(t,l),r=ks(e,t,n,r,i,l),n=Ss(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Bn(e,t,l)):(be&&n&&ls(t),t.flags|=1,Mt(e,t,r,l),t.child)}function Fu(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!Zs(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Uu(e,t,i,r,l)):(e=ho(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&l)===0){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(a,r)&&e.ref===t.ref)return Bn(e,t,l)}return t.flags|=1,e=hr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Uu(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(Bl(i,r)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=r=i,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,Bn(e,t,l)}return Is(e,t,n,r,l)}function Vu(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Cl,Wt),Wt|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Cl,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Cl,Wt),Wt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,We(Cl,Wt),Wt|=r;return Mt(e,t,l,n),t.child}function Xu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,l){var i=Lt(n)?Lr:gt.current;return i=yl(t,i),Sl(t,l),n=ks(e,t,n,r,i,l),r=Ss(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Bn(e,t,l)):(be&&r&&ls(t),t.flags|=1,Mt(e,t,n,l),t.child)}function Bu(e,t,n,r,l){if(Lt(n)){var i=!0;Ai(t)}else i=!1;if(Sl(t,l),t.stateNode===null)no(e,t),Iu(t,n,r),Ts(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,f=t.memoizedProps;a.props=f;var y=a.context,T=n.contextType;typeof T=="object"&&T!==null?T=tn(T):(T=Lt(n)?Lr:gt.current,T=yl(t,T));var F=n.getDerivedStateFromProps,V=typeof F=="function"||typeof a.getSnapshotBeforeUpdate=="function";V||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==r||y!==T)&&zu(t,a,r,T),sr=!1;var A=t.memoizedState;a.state=A,bi(t,r,a,l),y=t.memoizedState,f!==r||A!==y||zt.current||sr?(typeof F=="function"&&(Ms(t,n,F,r),y=t.memoizedState),(f=sr||_u(t,n,f,r,A,y,T))?(V||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=T,r=f):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,iu(e,t),f=t.memoizedProps,T=t.type===t.elementType?f:xn(t.type,f),a.props=T,V=t.pendingProps,A=a.context,y=n.contextType,typeof y=="object"&&y!==null?y=tn(y):(y=Lt(n)?Lr:gt.current,y=yl(t,y));var le=n.getDerivedStateFromProps;(F=typeof le=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==V||A!==y)&&zu(t,a,r,y),sr=!1,A=t.memoizedState,a.state=A,bi(t,r,a,l);var ce=t.memoizedState;f!==V||A!==ce||zt.current||sr?(typeof le=="function"&&(Ms(t,n,le,r),ce=t.memoizedState),(T=sr||_u(t,n,T,r,A,ce,y)||!1)?(F||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,ce,y),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,ce,y)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ce),a.props=r,a.state=ce,a.context=y,r=T):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return zs(e,t,n,r,i,l)}function zs(e,t,n,r,l,i){Xu(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&Qa(t,n,!1),Bn(e,t,i);r=t.stateNode,Fd.current=t;var f=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=wl(t,e.child,null,i),t.child=wl(t,null,f,i)):Mt(e,t,f,i),t.memoizedState=r.state,l&&Qa(t,n,!0),t.child}function Wu(e){var t=e.stateNode;t.pendingContext?Ya(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ya(e,t.context,!1),ms(e,t.containerInfo)}function Hu(e,t,n,r,l){return vl(),as(l),t.flags|=256,Mt(e,t,n,r),t.child}var Ls={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yu(e,t,n){var r=t.pendingProps,l=Ke.current,i=!1,a=(t.flags&128)!==0,f;if((f=a)||(f=e!==null&&e.memoizedState===null?!1:(l&2)!==0),f?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),We(Ke,l&1),e===null)return ss(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=a):i=mo(a,r,0,null),e=Br(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rs(n),t.memoizedState=Ls,e):Os(t,a));if(l=e.memoizedState,l!==null&&(f=l.dehydrated,f!==null))return Ud(e,t,a,r,f,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,f=l.sibling;var y={mode:"hidden",children:r.children};return(a&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=y,t.deletions=null):(r=hr(l,y),r.subtreeFlags=l.subtreeFlags&14680064),f!==null?i=hr(f,i):(i=Br(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Rs(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ls,r}return i=e.child,e=i.sibling,r=hr(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Os(e,t){return t=mo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function to(e,t,n,r){return r!==null&&as(r),wl(t,e.child,null,n),e=Os(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ud(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Ps(Error(c(422))),to(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=mo({mode:"visible",children:r.children},l,0,null),i=Br(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&wl(t,e.child,null,a),t.child.memoizedState=Rs(a),t.memoizedState=Ls,i);if((t.mode&1)===0)return to(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var f=r.dgst;return r=f,i=Error(c(419)),r=Ps(i,r,void 0),to(e,t,a,r)}if(f=(a&e.childLanes)!==0,Rt||f){if(r=ut,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|a))!==0?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Vn(e,l),kn(r,e,l,-1))}return Gs(),r=Ps(Error(c(421))),to(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Jd.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Bt=rr(l.nextSibling),Xt=t,be=!0,gn=null,e!==null&&(Jt[en++]=Fn,Jt[en++]=Un,Jt[en++]=Rr,Fn=e.id,Un=e.overflow,Rr=t),t=Os(t,r.children),t.flags|=4096,t)}function bu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fs(e.return,t,n)}function Ds(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Qu(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Mt(e,t,r.children,n),r=Ke.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bu(e,n,t);else if(e.tag===19)bu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Ke,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Qi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ds(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Qi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ds(t,!0,n,null,i);break;case"together":Ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vd(e,t,n){switch(t.tag){case 3:Wu(t),vl();break;case 5:au(t);break;case 1:Lt(t.type)&&Ai(t);break;case 4:ms(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;We(Wi,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Ke,Ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Yu(e,t,n):(We(Ke,Ke.current&1),e=Bn(e,t,n),e!==null?e.sibling:null);We(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Qu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),We(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Vu(e,t,n)}return Bn(e,t,n)}var Ku,$s,qu,Gu;Ku=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$s=function(){},qu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,$r(Pn.current);var i=null;switch(n){case"input":l=Hn(e,l),r=Hn(e,r),i=[];break;case"select":l=X({},l,{value:void 0}),r=X({},r,{value:void 0}),i=[];break;case"textarea":l=Ge(e,l),r=Ge(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Oi)}Kn(n,r);var a;n=null;for(T in l)if(!r.hasOwnProperty(T)&&l.hasOwnProperty(T)&&l[T]!=null)if(T==="style"){var f=l[T];for(a in f)f.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(p.hasOwnProperty(T)?i||(i=[]):(i=i||[]).push(T,null));for(T in r){var y=r[T];if(f=l!=null?l[T]:void 0,r.hasOwnProperty(T)&&y!==f&&(y!=null||f!=null))if(T==="style")if(f){for(a in f)!f.hasOwnProperty(a)||y&&y.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in y)y.hasOwnProperty(a)&&f[a]!==y[a]&&(n||(n={}),n[a]=y[a])}else n||(i||(i=[]),i.push(T,n)),n=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,f=f?f.__html:void 0,y!=null&&f!==y&&(i=i||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(i=i||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(p.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&He("scroll",e),i||f===y||(i=[])):(i=i||[]).push(T,y))}n&&(i=i||[]).push("style",n);var T=i;(t.updateQueue=T)&&(t.flags|=4)}},Gu=function(e,t,n,r){n!==r&&(t.flags|=4)};function li(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xd(e,t,n){var r=t.pendingProps;switch(is(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Lt(t.type)&&$i(),vt(t),null;case 3:return r=t.stateNode,Nl(),Ye(zt),Ye(gt),xs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gn!==null&&(Qs(gn),gn=null))),$s(e,t),vt(t),null;case 5:ys(t);var l=$r(Jl.current);if(n=t.type,e!==null&&t.stateNode!=null)qu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(c(166));return vt(t),null}if(e=$r(Pn.current),Xi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Tn]=t,r[Ql]=i,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(l=0;l<Hl.length;l++)He(Hl[l],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":$(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Ze(r,i),He("invalid",r)}Kn(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var f=i[a];a==="children"?typeof f=="string"?r.textContent!==f&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,f,e),l=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,f,e),l=["children",""+f]):p.hasOwnProperty(a)&&f!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":At(r),oe(r,i,!0);break;case"textarea":At(r),zn(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Oi)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tn]=t,e[Ql]=r,Ku(e,t,!1,!1),t.stateNode=e;e:{switch(a=Wr(n,r),n){case"dialog":He("cancel",e),He("close",e),l=r;break;case"iframe":case"object":case"embed":He("load",e),l=r;break;case"video":case"audio":for(l=0;l<Hl.length;l++)He(Hl[l],e);l=r;break;case"source":He("error",e),l=r;break;case"img":case"image":case"link":He("error",e),He("load",e),l=r;break;case"details":He("toggle",e),l=r;break;case"input":$(e,r),l=Hn(e,r),He("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=X({},r,{value:void 0}),He("invalid",e);break;case"textarea":Ze(e,r),l=Ge(e,r),He("invalid",e);break;default:l=r}Kn(n,l),f=l;for(i in f)if(f.hasOwnProperty(i)){var y=f[i];i==="style"?_t(e,y):i==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&bt(e,y)):i==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&Qt(e,y):typeof y=="number"&&Qt(e,""+y):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(p.hasOwnProperty(i)?y!=null&&i==="onScroll"&&He("scroll",e):y!=null&&z(e,i,y,a))}switch(n){case"input":At(e),oe(e,r,!1);break;case"textarea":At(e),zn(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Me(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?we(e,!!r.multiple,i,!1):r.defaultValue!=null&&we(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Gu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(c(166));if(n=$r(Jl.current),$r(Pn.current),Xi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tn]=t,(i=r.nodeValue!==n)&&(e=Xt,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=t,t.stateNode=r}return vt(t),null;case 13:if(Ye(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&Bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)eu(),vl(),t.flags|=98560,i=!1;else if(i=Xi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[Tn]=t}else vl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),i=!1}else gn!==null&&(Qs(gn),gn=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ke.current&1)!==0?ot===0&&(ot=3):Gs())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Nl(),$s(e,t),e===null&&Yl(t.stateNode.containerInfo),vt(t),null;case 10:return ds(t.type._context),vt(t),null;case 17:return Lt(t.type)&&$i(),vt(t),null;case 19:if(Ye(Ke),i=t.memoizedState,i===null)return vt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)li(i,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=Qi(e),a!==null){for(t.flags|=128,li(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Ke,Ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fe()>Ml&&(t.flags|=128,r=!0,li(i,!1),t.lanes=4194304)}else{if(!r)if(e=Qi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),li(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!be)return vt(t),null}else 2*Fe()-i.renderingStartTime>Ml&&n!==1073741824&&(t.flags|=128,r=!0,li(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fe(),t.sibling=null,n=Ke.current,We(Ke,r?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return qs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Wt&1073741824)!==0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function Bd(e,t){switch(is(t),t.tag){case 1:return Lt(t.type)&&$i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nl(),Ye(zt),Ye(gt),xs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ys(t),null;case 13:if(Ye(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(Ke),null;case 4:return Nl(),null;case 10:return ds(t.type._context),null;case 22:case 23:return qs(),null;case 24:return null;default:return null}}var ro=!1,wt=!1,Wd=typeof WeakSet=="function"?WeakSet:Set,se=null;function jl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function As(e,t,n){try{n()}catch(r){Je(e,t,r)}}var Zu=!1;function Hd(e,t){if(qo=Pr,e=_a(),Xo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,f=-1,y=-1,T=0,F=0,V=e,A=null;t:for(;;){for(var le;V!==n||l!==0&&V.nodeType!==3||(f=a+l),V!==i||r!==0&&V.nodeType!==3||(y=a+r),V.nodeType===3&&(a+=V.nodeValue.length),(le=V.firstChild)!==null;)A=V,V=le;for(;;){if(V===e)break t;if(A===n&&++T===l&&(f=a),A===i&&++F===r&&(y=a),(le=V.nextSibling)!==null)break;V=A,A=V.parentNode}V=le}n=f===-1||y===-1?null:{start:f,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Go={focusedElem:e,selectionRange:n},Pr=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var ce=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,tt=ce.memoizedState,N=t.stateNode,g=N.getSnapshotBeforeUpdate(t.elementType===t.type?fe:xn(t.type,fe),tt);N.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(H){Je(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return ce=Zu,Zu=!1,ce}function ii(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&As(t,n,i)}l=l.next}while(l!==r)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ju(e){var t=e.alternate;t!==null&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tn],delete t[Ql],delete t[ts],delete t[Md],delete t[Td])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ec(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ec(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Us(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oi));else if(r!==4&&(e=e.child,e!==null))for(Us(e,t,n),e=e.sibling;e!==null;)Us(e,t,n),e=e.sibling}function Vs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vs(e,t,n),e=e.sibling;e!==null;)Vs(e,t,n),e=e.sibling}var pt=null,vn=!1;function ur(e,t,n){for(n=n.child;n!==null;)nc(e,t,n),n=n.sibling}function nc(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Qr,n)}catch{}switch(n.tag){case 5:wt||jl(n,t);case 6:var r=pt,l=vn;pt=null,ur(e,t,n),pt=r,vn=l,pt!==null&&(vn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(vn?(e=pt,n=n.stateNode,e.nodeType===8?es(e.parentNode,n):e.nodeType===1&&es(e,n),Tr(e)):es(pt,n.stateNode));break;case 4:r=pt,l=vn,pt=n.stateNode.containerInfo,vn=!0,ur(e,t,n),pt=r,vn=l;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&((i&2)!==0||(i&4)!==0)&&As(n,t,a),l=l.next}while(l!==r)}ur(e,t,n);break;case 1:if(!wt&&(jl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Je(n,t,f)}ur(e,t,n);break;case 21:ur(e,t,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,ur(e,t,n),wt=r):ur(e,t,n);break;default:ur(e,t,n)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wd),t.forEach(function(r){var l=ef.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function wn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,f=a;e:for(;f!==null;){switch(f.tag){case 5:pt=f.stateNode,vn=!1;break e;case 3:pt=f.stateNode.containerInfo,vn=!0;break e;case 4:pt=f.stateNode.containerInfo,vn=!0;break e}f=f.return}if(pt===null)throw Error(c(160));nc(i,a,l),pt=null,vn=!1;var y=l.alternate;y!==null&&(y.return=null),l.return=null}catch(T){Je(l,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lc(t,e),t=t.sibling}function lc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),In(e),r&4){try{ii(3,e,e.return),lo(3,e)}catch(fe){Je(e,e.return,fe)}try{ii(5,e,e.return)}catch(fe){Je(e,e.return,fe)}}break;case 1:wn(t,e),In(e),r&512&&n!==null&&jl(n,n.return);break;case 5:if(wn(t,e),In(e),r&512&&n!==null&&jl(n,n.return),e.flags&32){var l=e.stateNode;try{Qt(l,"")}catch(fe){Je(e,e.return,fe)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,f=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{f==="input"&&i.type==="radio"&&i.name!=null&&U(l,i),Wr(f,a);var T=Wr(f,i);for(a=0;a<y.length;a+=2){var F=y[a],V=y[a+1];F==="style"?_t(l,V):F==="dangerouslySetInnerHTML"?bt(l,V):F==="children"?Qt(l,V):z(l,F,V,T)}switch(f){case"input":de(l,i);break;case"textarea":et(l,i);break;case"select":var A=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var le=i.value;le!=null?we(l,!!i.multiple,le,!1):A!==!!i.multiple&&(i.defaultValue!=null?we(l,!!i.multiple,i.defaultValue,!0):we(l,!!i.multiple,i.multiple?[]:"",!1))}l[Ql]=i}catch(fe){Je(e,e.return,fe)}}break;case 6:if(wn(t,e),In(e),r&4){if(e.stateNode===null)throw Error(c(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(fe){Je(e,e.return,fe)}}break;case 3:if(wn(t,e),In(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(fe){Je(e,e.return,fe)}break;case 4:wn(t,e),In(e);break;case 13:wn(t,e),In(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Ws=Fe())),r&4&&rc(e);break;case 22:if(F=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(T=wt)||F,wn(t,e),wt=T):wn(t,e),In(e),r&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!F&&(e.mode&1)!==0)for(se=e,F=e.child;F!==null;){for(V=se=F;se!==null;){switch(A=se,le=A.child,A.tag){case 0:case 11:case 14:case 15:ii(4,A,A.return);break;case 1:jl(A,A.return);var ce=A.stateNode;if(typeof ce.componentWillUnmount=="function"){r=A,n=A.return;try{t=r,ce.props=t.memoizedProps,ce.state=t.memoizedState,ce.componentWillUnmount()}catch(fe){Je(r,n,fe)}}break;case 5:jl(A,A.return);break;case 22:if(A.memoizedState!==null){sc(V);continue}}le!==null?(le.return=A,se=le):sc(V)}F=F.sibling}e:for(F=null,V=e;;){if(V.tag===5){if(F===null){F=V;try{l=V.stateNode,T?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(f=V.stateNode,y=V.memoizedProps.style,a=y!=null&&y.hasOwnProperty("display")?y.display:null,f.style.display=Qn("display",a))}catch(fe){Je(e,e.return,fe)}}}else if(V.tag===6){if(F===null)try{V.stateNode.nodeValue=T?"":V.memoizedProps}catch(fe){Je(e,e.return,fe)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;F===V&&(F=null),V=V.return}F===V&&(F=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:wn(t,e),In(e),r&4&&rc(e);break;case 21:break;default:wn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ec(n)){var r=n;break e}n=n.return}throw Error(c(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Qt(l,""),r.flags&=-33);var i=tc(e);Vs(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,f=tc(e);Us(e,f,a);break;default:throw Error(c(161))}}catch(y){Je(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yd(e,t,n){se=e,ic(e)}function ic(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var l=se,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||ro;if(!a){var f=l.alternate,y=f!==null&&f.memoizedState!==null||wt;f=ro;var T=wt;if(ro=a,(wt=y)&&!T)for(se=l;se!==null;)a=se,y=a.child,a.tag===22&&a.memoizedState!==null?ac(l):y!==null?(y.return=a,se=y):ac(l);for(;i!==null;)se=i,ic(i),i=i.sibling;se=l,ro=f,wt=T}oc(e)}else(l.subtreeFlags&8772)!==0&&i!==null?(i.return=l,se=i):oc(e)}}function oc(e){for(;se!==null;){var t=se;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:wt||lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&su(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}su(t,a,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var F=T.memoizedState;if(F!==null){var V=F.dehydrated;V!==null&&Tr(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}wt||t.flags&512&&Fs(t)}catch(A){Je(t,t.return,A)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function sc(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function ac(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lo(4,t)}catch(y){Je(t,n,y)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(y){Je(t,l,y)}}var i=t.return;try{Fs(t)}catch(y){Je(t,i,y)}break;case 5:var a=t.return;try{Fs(t)}catch(y){Je(t,a,y)}}}catch(y){Je(t,t.return,y)}if(t===e){se=null;break}var f=t.sibling;if(f!==null){f.return=t.return,se=f;break}se=t.return}}var bd=Math.ceil,io=x.ReactCurrentDispatcher,Xs=x.ReactCurrentOwner,rn=x.ReactCurrentBatchConfig,De=0,ut=null,rt=null,ht=0,Wt=0,Cl=lr(0),ot=0,oi=null,Fr=0,oo=0,Bs=0,si=null,Ot=null,Ws=0,Ml=1/0,Wn=null,so=!1,Hs=null,cr=null,ao=!1,dr=null,uo=0,ai=0,Ys=null,co=-1,fo=0;function Tt(){return(De&6)!==0?Fe():co!==-1?co:co=Fe()}function fr(e){return(e.mode&1)===0?1:(De&2)!==0&&ht!==0?ht&-ht:_d.transition!==null?(fo===0&&(fo=gi()),fo):(e=je,e!==0||(e=window.event,e=e===void 0?16:_r(e.type)),e)}function kn(e,t,n,r){if(50<ai)throw ai=0,Ys=null,Error(c(185));Er(e,n,r),((De&2)===0||e!==ut)&&(e===ut&&((De&2)===0&&(oo|=n),ot===4&&pr(e,ht)),Dt(e,r),n===1&&De===0&&(t.mode&1)===0&&(Ml=Fe()+500,Fi&&or()))}function Dt(e,t){var n=e.callbackNode;Lo(e,t);var r=Cn(e,e===ut?ht:0);if(r===0)n!==null&&It(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&It(n),t===1)e.tag===0?Pd(cc.bind(null,e)):Ka(cc.bind(null,e)),jd(function(){(De&6)===0&&or()}),n=null;else{switch(vi(r)){case 1:n=qt;break;case 4:n=Ut;break;case 16:n=jn;break;case 536870912:n=mi;break;default:n=jn}n=xc(n,uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uc(e,t){if(co=-1,fo=0,(De&6)!==0)throw Error(c(327));var n=e.callbackNode;if(Tl()&&e.callbackNode!==n)return null;var r=Cn(e,e===ut?ht:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=po(e,r);else{t=r;var l=De;De|=2;var i=fc();(ut!==e||ht!==t)&&(Wn=null,Ml=Fe()+500,Vr(e,t));do try{qd();break}catch(f){dc(e,f)}while(!0);cs(),io.current=i,De=l,rt!==null?t=0:(ut=null,ht=0,t=ot)}if(t!==0){if(t===2&&(l=$l(e),l!==0&&(r=l,t=bs(e,l))),t===1)throw n=oi,Vr(e,0),pr(e,r),Dt(e,Fe()),n;if(t===6)pr(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Qd(l)&&(t=po(e,r),t===2&&(i=$l(e),i!==0&&(r=i,t=bs(e,i))),t===1))throw n=oi,Vr(e,0),pr(e,r),Dt(e,Fe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(c(345));case 2:Xr(e,Ot,Wn);break;case 3:if(pr(e,r),(r&130023424)===r&&(t=Ws+500-Fe(),10<t)){if(Cn(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Tt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Jo(Xr.bind(null,e,Ot,Wn),t);break}Xr(e,Ot,Wn);break;case 4:if(pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Vt(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bd(r/1960))-r,10<r){e.timeoutHandle=Jo(Xr.bind(null,e,Ot,Wn),r);break}Xr(e,Ot,Wn);break;case 5:Xr(e,Ot,Wn);break;default:throw Error(c(329))}}}return Dt(e,Fe()),e.callbackNode===n?uc.bind(null,e):null}function bs(e,t){var n=si;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=po(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&Qs(t)),e}function Qs(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Qd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!yn(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~Bs,t&=~oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if((De&6)!==0)throw Error(c(327));Tl();var t=Cn(e,0);if((t&1)===0)return Dt(e,Fe()),null;var n=po(e,t);if(e.tag!==0&&n===2){var r=$l(e);r!==0&&(t=r,n=bs(e,r))}if(n===1)throw n=oi,Vr(e,0),pr(e,t),Dt(e,Fe()),n;if(n===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xr(e,Ot,Wn),Dt(e,Fe()),null}function Ks(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(Ml=Fe()+500,Fi&&or())}}function Ur(e){dr!==null&&dr.tag===0&&(De&6)===0&&Tl();var t=De;De|=1;var n=rn.transition,r=je;try{if(rn.transition=null,je=1,e)return e()}finally{je=r,rn.transition=n,De=t,(De&6)===0&&or()}}function qs(){Wt=Cl.current,Ye(Cl)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ed(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(is(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$i();break;case 3:Nl(),Ye(zt),Ye(gt),xs();break;case 5:ys(r);break;case 4:Nl();break;case 13:Ye(Ke);break;case 19:Ye(Ke);break;case 10:ds(r.type._context);break;case 22:case 23:qs()}n=n.return}if(ut=e,rt=e=hr(e.current,null),ht=Wt=t,ot=0,oi=null,Bs=oo=Fr=0,Ot=si=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}Dr=null}return e}function dc(e,t){do{var n=rt;try{if(cs(),Ki.current=Ji,qi){for(var r=qe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}qi=!1}if(Ar=0,at=it=qe=null,ei=!1,ti=0,Xs.current=null,n===null||n.return===null){ot=1,oi=t,rt=null;break}e:{var i=e,a=n.return,f=n,y=t;if(t=ht,f.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,F=f,V=F.tag;if((F.mode&1)===0&&(V===0||V===11||V===15)){var A=F.alternate;A?(F.updateQueue=A.updateQueue,F.memoizedState=A.memoizedState,F.lanes=A.lanes):(F.updateQueue=null,F.memoizedState=null)}var le=Du(a);if(le!==null){le.flags&=-257,$u(le,a,f,i,t),le.mode&1&&Ou(i,T,t),t=le,y=T;var ce=t.updateQueue;if(ce===null){var fe=new Set;fe.add(y),t.updateQueue=fe}else ce.add(y);break e}else{if((t&1)===0){Ou(i,T,t),Gs();break e}y=Error(c(426))}}else if(be&&f.mode&1){var tt=Du(a);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),$u(tt,a,f,i,t),as(El(y,f));break e}}i=y=El(y,f),ot!==4&&(ot=2),si===null?si=[i]:si.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var N=Lu(i,y,t);ou(i,N);break e;case 1:f=y;var g=i.type,E=i.stateNode;if((i.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(cr===null||!cr.has(E)))){i.flags|=65536,t&=-t,i.lanes|=t;var H=Ru(i,f,t);ou(i,H);break e}}i=i.return}while(i!==null)}hc(n)}catch(me){t=me,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function fc(){var e=io.current;return io.current=Ji,e===null?Ji:e}function Gs(){(ot===0||ot===3||ot===2)&&(ot=4),ut===null||(Fr&268435455)===0&&(oo&268435455)===0||pr(ut,ht)}function po(e,t){var n=De;De|=2;var r=fc();(ut!==e||ht!==t)&&(Wn=null,Vr(e,t));do try{Kd();break}catch(l){dc(e,l)}while(!0);if(cs(),De=n,io.current=r,rt!==null)throw Error(c(261));return ut=null,ht=0,ot}function Kd(){for(;rt!==null;)pc(rt)}function qd(){for(;rt!==null&&!br();)pc(rt)}function pc(e){var t=gc(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?hc(e):rt=t,Xs.current=null}function hc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Xd(n,t,Wt),n!==null){rt=n;return}}else{if(n=Bd(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function Xr(e,t,n){var r=je,l=rn.transition;try{rn.transition=null,je=1,Gd(e,t,n,r)}finally{rn.transition=l,je=r}return null}function Gd(e,t,n,r){do Tl();while(dr!==null);if((De&6)!==0)throw Error(c(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(xi(e,i),e===ut&&(rt=ut=null,ht=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ao||(ao=!0,xc(jn,function(){return Tl(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=rn.transition,rn.transition=null;var a=je;je=1;var f=De;De|=4,Xs.current=null,Hd(e,n),lc(n,e),gd(Go),Pr=!!qo,Go=qo=null,e.current=n,Yd(n),pi(),De=f,je=a,rn.transition=i}else e.current=n;if(ao&&(ao=!1,dr=e,uo=l),i=e.pendingLanes,i===0&&(cr=null),Po(n.stateNode),Dt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(so)throw so=!1,e=Hs,Hs=null,e;return(uo&1)!==0&&e.tag!==0&&Tl(),i=e.pendingLanes,(i&1)!==0?e===Ys?ai++:(ai=0,Ys=e):ai=0,or(),null}function Tl(){if(dr!==null){var e=vi(uo),t=rn.transition,n=je;try{if(rn.transition=null,je=16>e?16:e,dr===null)var r=!1;else{if(e=dr,dr=null,uo=0,(De&6)!==0)throw Error(c(331));var l=De;for(De|=4,se=e.current;se!==null;){var i=se,a=i.child;if((se.flags&16)!==0){var f=i.deletions;if(f!==null){for(var y=0;y<f.length;y++){var T=f[y];for(se=T;se!==null;){var F=se;switch(F.tag){case 0:case 11:case 15:ii(8,F,i)}var V=F.child;if(V!==null)V.return=F,se=V;else for(;se!==null;){F=se;var A=F.sibling,le=F.return;if(Ju(F),F===T){se=null;break}if(A!==null){A.return=le,se=A;break}se=le}}}var ce=i.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var tt=fe.sibling;fe.sibling=null,fe=tt}while(fe!==null)}}se=i}}if((i.subtreeFlags&2064)!==0&&a!==null)a.return=i,se=a;else e:for(;se!==null;){if(i=se,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:ii(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,se=N;break e}se=i.return}}var g=e.current;for(se=g;se!==null;){a=se;var E=a.child;if((a.subtreeFlags&2064)!==0&&E!==null)E.return=a,se=E;else e:for(a=g;se!==null;){if(f=se,(f.flags&2048)!==0)try{switch(f.tag){case 0:case 11:case 15:lo(9,f)}}catch(me){Je(f,f.return,me)}if(f===a){se=null;break e}var H=f.sibling;if(H!==null){H.return=f.return,se=H;break e}se=f.return}}if(De=l,or(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Qr,e)}catch{}r=!0}return r}finally{je=n,rn.transition=t}}return!1}function mc(e,t,n){t=El(n,t),t=Lu(e,t,1),e=ar(e,t,1),t=Tt(),e!==null&&(Er(e,1,t),Dt(e,t))}function Je(e,t,n){if(e.tag===3)mc(e,e,n);else for(;t!==null;){if(t.tag===3){mc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){e=El(n,e),e=Ru(t,e,1),t=ar(t,e,1),e=Tt(),t!==null&&(Er(t,1,e),Dt(t,e));break}}t=t.return}}function Zd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&n,ut===e&&(ht&n)===n&&(ot===4||ot===3&&(ht&130023424)===ht&&500>Fe()-Ws?Vr(e,0):Bs|=n),Dt(e,t)}function yc(e,t){t===0&&((e.mode&1)===0?t=1:(t=qr,qr<<=1,(qr&130023424)===0&&(qr=4194304)));var n=Tt();e=Vn(e,t),e!==null&&(Er(e,t,n),Dt(e,n))}function Jd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yc(e,n)}function ef(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(c(314))}r!==null&&r.delete(t),yc(e,n)}var gc;gc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Rt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Rt=!1,Vd(e,t,n);Rt=(e.flags&131072)!==0}else Rt=!1,be&&(t.flags&1048576)!==0&&qa(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;no(e,t),e=t.pendingProps;var l=yl(t,gt.current);Sl(t,n),l=ks(null,t,r,e,l,n);var i=Ss();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)?(i=!0,Ai(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,hs(t),l.updater=eo,t.stateNode=l,l._reactInternals=t,Ts(t,r,e,n),t=zs(null,t,r,!0,i,n)):(t.tag=0,be&&i&&ls(t),Mt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(no(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=nf(r),e=xn(r,e),l){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Bu(null,t,r,e,n);break e;case 11:t=Au(null,t,r,e,n);break e;case 14:t=Fu(null,t,r,xn(r.type,e),n);break e}throw Error(c(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),Is(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),Bu(e,t,r,l,n);case 3:e:{if(Wu(t),e===null)throw Error(c(387));r=t.pendingProps,i=t.memoizedState,l=i.element,iu(e,t),bi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=El(Error(c(423)),t),t=Hu(e,t,r,n,l);break e}else if(r!==l){l=El(Error(c(424)),t),t=Hu(e,t,r,n,l);break e}else for(Bt=rr(t.stateNode.containerInfo.firstChild),Xt=t,be=!0,gn=null,n=ru(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vl(),r===l){t=Bn(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return au(t),e===null&&ss(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,Zo(r,l)?a=null:i!==null&&Zo(r,i)&&(t.flags|=32),Xu(e,t),Mt(e,t,a,n),t.child;case 6:return e===null&&ss(t),null;case 13:return Yu(e,t,n);case 4:return ms(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wl(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),Au(e,t,r,l,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,We(Wi,r._currentValue),r._currentValue=a,i!==null)if(yn(i.value,a)){if(i.children===l.children&&!zt.current){t=Bn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var f=i.dependencies;if(f!==null){a=i.child;for(var y=f.firstContext;y!==null;){if(y.context===r){if(i.tag===1){y=Xn(-1,n&-n),y.tag=2;var T=i.updateQueue;if(T!==null){T=T.shared;var F=T.pending;F===null?y.next=y:(y.next=F.next,F.next=y),T.pending=y}}i.lanes|=n,y=i.alternate,y!==null&&(y.lanes|=n),fs(i.return,n,t),f.lanes|=n;break}y=y.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(c(341));a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),fs(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Mt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Sl(t,n),l=tn(l),r=r(l),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,l=xn(r,t.pendingProps),l=xn(r.type,l),Fu(e,t,r,l,n);case 15:return Uu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),no(e,t),t.tag=1,Lt(r)?(e=!0,Ai(t)):e=!1,Sl(t,n),Iu(t,r,l),Ts(t,r,l,n),zs(null,t,r,!0,e,n);case 19:return Qu(e,t,n);case 22:return Vu(e,t,n)}throw Error(c(156,t.tag))};function xc(e,t){return Dl(e,t)}function tf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,r){return new tf(e,t,n,r)}function Zs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nf(e){if(typeof e=="function")return Zs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ee)return 11;if(e===ue)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ho(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")Zs(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ne:return Br(n.children,l,i,t);case xe:a=8,l|=8;break;case re:return e=ln(12,n,t,l|2),e.elementType=re,e.lanes=i,e;case Ie:return e=ln(13,n,t,l),e.elementType=Ie,e.lanes=i,e;case pe:return e=ln(19,n,t,l),e.elementType=pe,e.lanes=i,e;case ne:return mo(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:a=10;break e;case te:a=9;break e;case Ee:a=11;break e;case ue:a=14;break e;case Pe:a=16,r=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=ln(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Br(e,t,n,r){return e=ln(7,e,r,t),e.lanes=n,e}function mo(e,t,n,r){return e=ln(22,e,r,t),e.elementType=ne,e.lanes=n,e.stateNode={isHidden:!1},e}function Js(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function ea(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gr(0),this.expirationTimes=Gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ta(e,t,n,r,l,i,a,f,y){return e=new rf(e,t,n,f,y),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ln(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hs(i),e}function lf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vc(e){if(!e)return ir;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var n=e.type;if(Lt(n))return ba(e,n,t)}return t}function wc(e,t,n,r,l,i,a,f,y){return e=ta(n,r,!0,e,l,i,a,f,y),e.context=vc(null),n=e.current,r=Tt(),l=fr(n),i=Xn(r,l),i.callback=t??null,ar(n,i,l),e.current.lanes=l,Er(e,l,r),Dt(e,r),e}function yo(e,t,n,r){var l=t.current,i=Tt(),a=fr(l);return n=vc(n),t.context===null?t.context=n:t.pendingContext=n,t=Xn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ar(l,t,a),e!==null&&(kn(e,l,a,i),Yi(e,l,a)),a}function go(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function na(e,t){kc(e,t),(e=e.alternate)&&kc(e,t)}function of(){return null}var Sc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ra(e){this._internalRoot=e}xo.prototype.render=ra.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));yo(e,t,null,null)},xo.prototype.unmount=ra.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){yo(null,e,null,null)}),t[$n]=null}};function xo(e){this._internalRoot=e}xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=_e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&Ni(e)}};function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function sf(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var T=go(a);i.call(T)}}var a=wc(t,r,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=a,e[$n]=a.current,Yl(e.nodeType===8?e.parentNode:e),Ur(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var f=r;r=function(){var T=go(y);f.call(T)}}var y=ta(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=y,e[$n]=y.current,Yl(e.nodeType===8?e.parentNode:e),Ur(function(){yo(t,y,n,r)}),y}function wo(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var f=l;l=function(){var y=go(a);f.call(y)}}yo(t,a,e,l)}else a=sf(n,t,e,l,r);return go(a)}un=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zn(t.pendingLanes);n!==0&&(Zr(t,n|1),Dt(t,Fe()),(De&6)===0&&(Ml=Fe()+500,or()))}break;case 13:Ur(function(){var r=Vn(e,1);if(r!==null){var l=Tt();kn(r,e,1,l)}}),na(e,1)}},Jr=function(e){if(e.tag===13){var t=Vn(e,134217728);if(t!==null){var n=Tt();kn(t,e,134217728,n)}na(e,134217728)}},wi=function(e){if(e.tag===13){var t=fr(e),n=Vn(e,t);if(n!==null){var r=Tt();kn(n,e,t,r)}na(e,t)}},_e=function(){return je},ki=function(e,t){var n=je;try{return je=e,t()}finally{je=n}},Il=function(e,t,n){switch(t){case"input":if(de(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Di(r);if(!l)throw Error(c(90));yr(r),de(r,l)}}}break;case"textarea":et(e,n);break;case"select":t=n.value,t!=null&&we(e,!!n.multiple,t,!1)}},Hr=Ks,Gn=Ur;var af={usingClientEntryPoint:!1,Events:[Kl,hl,Di,di,Ll,Ks]},ui={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uf={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fi(e),e===null?null:e.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||of,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Qr=ko.inject(uf),Gt=ko}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=af,$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!la(t))throw Error(c(200));return lf(e,t,null,n)},$t.createRoot=function(e,t){if(!la(e))throw Error(c(299));var n=!1,r="",l=Sc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ta(e,1,!1,null,null,n,!1,r,l),e[$n]=t.current,Yl(e.nodeType===8?e.parentNode:e),new ra(t)},$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=fi(t),e=e===null?null:e.stateNode,e},$t.flushSync=function(e){return Ur(e)},$t.hydrate=function(e,t,n){if(!vo(t))throw Error(c(200));return wo(null,e,t,!0,n)},$t.hydrateRoot=function(e,t,n){if(!la(e))throw Error(c(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=Sc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=wc(t,null,e,1,n??null,l,!1,i,a),e[$n]=t.current,Yl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new xo(t)},$t.render=function(e,t,n){if(!vo(t))throw Error(c(200));return wo(null,e,t,!1,n)},$t.unmountComponentAtNode=function(e){if(!vo(e))throw Error(c(40));return e._reactRootContainer?(Ur(function(){wo(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1},$t.unstable_batchedUpdates=Ks,$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vo(n))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return wo(e,t,n,!1,r)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var Ic;function xf(){if(Ic)return sa.exports;Ic=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(u){console.error(u)}}return o(),sa.exports=gf(),sa.exports}var zc;function vf(){if(zc)return So;zc=1;var o=xf();return So.createRoot=o.createRoot,So.hydrateRoot=o.hydrateRoot,So}var wf=vf();const kf=Bc(wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nf=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(u,c,d)=>d?d.toUpperCase():c.toLowerCase()),Lc=o=>{const u=Nf(o);return u.charAt(0).toUpperCase()+u.slice(1)},Wc=(...o)=>o.filter((u,c,d)=>!!u&&u.trim()!==""&&d.indexOf(u)===c).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ef={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=k.forwardRef(({color:o="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:p="",children:v,iconNode:w,...P},C)=>k.createElement("svg",{ref:C,...Ef,width:u,height:u,stroke:o,strokeWidth:d?Number(c)*24/Number(u):c,className:Wc("lucide",p),...P},[...w.map(([j,O])=>k.createElement(j,O)),...Array.isArray(v)?v:[v]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(o,u)=>{const c=k.forwardRef(({className:d,...p},v)=>k.createElement(jf,{ref:v,iconNode:u,className:Wc(`lucide-${Sf(Lc(o))}`,`lucide-${o}`,d),...p}));return c.displayName=Lc(o),c};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ca=Xe("chevron-down",Cf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Tf=Xe("chevron-left",Mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_f=Xe("chevron-right",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hc=Xe("circle",If);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Lf=Xe("coffee",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]],Of=Xe("contrast",Rf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],$f=Xe("droplet",Df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ff=Xe("house",Af);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Vf=Xe("image",Uf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Yc=Xe("maximize-2",Xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],bc=Xe("minimize-2",Bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],ha=Xe("move",Wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Qc=Xe("palette",Hf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]],bf=Xe("pointer",Yf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],Rc=Xe("rectangle-horizontal",Qf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]],Oc=Xe("rectangle-vertical",Kf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Kc=Xe("rotate-cw",qf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zf=Xe("save",Gf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],ep=Xe("scissors",Jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],np=Xe("settings",tp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],lp=Xe("sliders-horizontal",rp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],op=Xe("sliders-vertical",ip);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ap=Xe("sparkles",sp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],da=Xe("square",up);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dp=Xe("sun",cp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],pp=Xe("undo",fp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],mp=Xe("video",hp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dc=Xe("x",yp);function $c({label:o,value:u,onChange:c,unit:d="%",active:p=!1,onActivate:v}){const[w,P]=k.useState(!1),C=k.useRef(null),j=k.useRef(0),O=k.useRef(0),B=()=>{!p&&v&&v()},L=M=>{p&&(P(!0),j.current=M.clientX,O.current=u,M.currentTarget.setPointerCapture(M.pointerId),M.preventDefault())},I=M=>{if(!w||!C.current)return;const R=C.current.getBoundingClientRect(),ee=(M.clientX-j.current)/R.width*100,z=Math.max(0,Math.min(100,O.current+ee));c(Math.round(z))},W=M=>{w&&(P(!1),M.currentTarget.releasePointerCapture(M.pointerId))};return s.jsx("div",{ref:C,onClick:B,onPointerDown:L,onPointerMove:I,onPointerUp:W,className:`
        relative w-full px-3 rounded-sm transition-all duration-300
        h-[33px] flex items-center
        ${p?"border-2 border-orange-500 bg-[#1C1C1E] cursor-ew-resize":"border-[1px] border-border bg-[#1C1C1E] hover:bg-[#2C2C2E] active:bg-[#2C2C2E] cursor-pointer"}
        ${w?"ring-2 ring-orange-500/20":""}
        select-none touch-none overflow-hidden
      `,children:p?s.jsxs("div",{className:"w-full flex items-center gap-3",children:[s.jsx("span",{className:"text-xs font-medium text-white whitespace-nowrap",children:o}),s.jsx("div",{className:"flex-1 relative h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full bg-orange-500 transition-all duration-75",style:{width:`${u}%`}})}),s.jsxs("span",{className:"text-xs font-bold text-orange-500 whitespace-nowrap min-w-[3rem] text-right",children:[u,d]})]}):s.jsx("div",{className:"w-full flex items-center justify-center",children:s.jsxs("span",{className:"text-xs font-medium text-white",children:[o," ",u>0&&`(${u}${d})`]})})})}const Ac={brightness:50,contrast:50,saturation:50,sharpness:50};function Co(o){const u=o.reduce((d,p)=>d+p.x,0),c=o.reduce((d,p)=>d+p.y,0);return{x:u/4,y:c/4}}function gp(o,u){const c=Co(o);return o.map(d=>({x:d.x+(c.x-d.x)*u,y:d.y+(c.y-d.y)*u}))}function Fc(o,u){if(u.length<3)return!1;let c=!0;for(let d=0;d<u.length;d++){const p=(d+1)%u.length,v=u[d],w=u[p],P=w.x-v.x,C=w.y-v.y,j=o.x-v.x,O=o.y-v.y;if(P*O-C*j<0){c=!1;break}}return c}function xp(o,u,c){const d=o.x-u.x,p=o.y-u.y;return d*d+p*p<=c*c}function qc(o,u,c){const d=Math.cos(c),p=Math.sin(c),v=o.x-u.x,w=o.y-u.y;return{x:u.x+v*d-w*p,y:u.y+v*p+w*d}}function vp(o,u,c){return o.map(d=>qc(d,u,c))}function wp(o,u,c){return{x:o.x+u,y:o.y+c}}function kp(o,u,c){return o.map(d=>wp(d,u,c))}function Sp(o,u,c){if(!Fc(o,u))return"NONE";const d=gp(u,c.quadInnerInsetRatio);return Fc(o,d)?"ROTATE":"MOVE"}function Np(o,u,c){return xp(o,u,c)?"MOVE":"NONE"}function Uc(o,u,c){return u.kind==="circle"?Np(o,u.center,u.radius):Sp(o,u.points,c)}function Ep(o,u,c){switch(u.type){case"POINTER_MOVE":{const d=u.p;if(!o.isDragging)return{...o,hoverZone:Uc(d,o.shape,c)};if(o.dragMode==="MOVE"){if(!o.startPointer||!o.startShape)return o;const p=d.x-o.startPointer.x,v=d.y-o.startPointer.y;return o.startShape.kind==="circle"?{...o,shape:{kind:"circle",center:{x:o.startShape.center.x+p,y:o.startShape.center.y+v},radius:o.startShape.radius}}:{...o,shape:{kind:"quad",points:kp(o.startShape.points,p,v)}}}else if(o.dragMode==="ROTATE"){if(o.shape.kind!=="quad"||!o.startCenter||o.startAngle0===null||!o.startShape||o.startShape.kind!=="quad")return o;const p=d.x-o.startCenter.x,v=d.y-o.startCenter.y,P=Math.atan2(v,p)-o.startAngle0;return{...o,shape:{kind:"quad",points:vp(o.startShape.points,o.startCenter,P)}}}return o}case"POINTER_DOWN":{const d=u.p,p=Uc(d,o.shape,c);if(p==="NONE")return o;let v="MOVE";o.shape.kind==="circle"?v="MOVE":o.shape.kind==="quad"&&(v=p==="ROTATE"?"ROTATE":"MOVE");const w=o.shape.kind==="quad"?Co(o.shape.points):o.shape.center;let P=null;if(v==="ROTATE"&&o.shape.kind==="quad"){const C=d.x-w.x,j=d.y-w.y;P=Math.atan2(j,C)}return{...o,isDragging:!0,dragMode:v,hoverZone:p,startPointer:d,startShape:JSON.parse(JSON.stringify(o.shape)),startCenter:w,startAngle0:P}}case"POINTER_UP":return{...o,isDragging:!1,hoverZone:"NONE",startPointer:null,startShape:null,startCenter:null,startAngle0:null};case"SET_SHAPE":return{...o,shape:u.shape,hoverZone:o.isDragging?o.hoverZone:"NONE"};default:return o}}function jp(o,u){return{shape:o,hoverZone:"NONE",isDragging:!1,dragMode:"MOVE",startPointer:null,startShape:null,startCenter:null,startAngle0:null}}function Cp(o,u,c){return Ep(o,u,c)}function Mp(o){const u=o.shape.kind==="quad"?Co(o.shape.points):o.shape.center,c=o.hoverZone!=="NONE"&&!o.isDragging,d=o.hoverZone==="ROTATE"?"ROTATE":"MOVE";return{center:u,showIcon:c,iconMode:d,hoverZone:o.hoverZone}}function Eo(o,u){const c=u.getBoundingClientRect();return{x:o.clientX-c.left,y:o.clientY-c.top}}function Tp(o){if(!o)return 1;const u=o.dataset.zoom||o.dataset.scale;if(u){const w=parseFloat(u);if(!isNaN(w)&&w>0)return w}const d=window.getComputedStyle(o).transform;if(d&&d!=="none"){const w=d.match(/matrix\(([^)]+)\)/);if(w){const C=w[1].split(",").map(j=>parseFloat(j.trim()));if(C.length>=4){const j=Math.abs(C[0]),O=Math.abs(C[3]);return Math.max(j,O)}}const P=d.match(/scale\(([^)]+)\)/);if(P){const C=parseFloat(P[1]);if(!isNaN(C)&&C>0)return C}}let p=o.parentElement,v=0;for(;p&&v<3;){const w=p.dataset.zoom||p.dataset.scale;if(w){const P=parseFloat(w);if(!isNaN(P)&&P>0)return P}p=p.parentElement,v++}return 1}function Pp(o,u,c=1){return{dx:(u.x-o.x)/c,dy:(u.y-o.y)/c}}const _p={quadInnerInsetRatio:.1};function Ip({initialShape:o,config:u={},containerRef:c}){const d={..._p,...u},[p,v]=k.useReducer((M,R)=>Cp(M,R,d),jp(o)),w=k.useRef(null),P=k.useCallback(()=>c!=null&&c.current?c.current:w.current?w.current:null,[c]),C=k.useCallback(M=>{const R=P();return R?Eo(M,R):{x:M.clientX,y:M.clientY}},[P]),j=k.useCallback(M=>{const R=C(M);R&&v({type:"POINTER_MOVE",p:R})},[C]),O=k.useCallback(M=>{const R=C(M);if(R){v({type:"POINTER_DOWN",p:R});try{M.currentTarget.setPointerCapture(M.pointerId)}catch{}}},[C]),B=k.useCallback(M=>{v({type:"POINTER_UP"});try{M.currentTarget.releasePointerCapture(M.pointerId)}catch{}},[]),L=k.useCallback(M=>{v({type:"POINTER_UP"});try{M.currentTarget.releasePointerCapture(M.pointerId)}catch{}},[]),I=k.useCallback(M=>{v({type:"SET_SHAPE",shape:M})},[]);k.useEffect(()=>{if(!p.isDragging)return;const M=ee=>{const z=P();if(!z){v({type:"POINTER_MOVE",p:{x:ee.clientX,y:ee.clientY}});return}const x=Eo(ee,z);v({type:"POINTER_MOVE",p:x})},R=ee=>{v({type:"POINTER_UP"})},Z=ee=>{v({type:"POINTER_UP"})};return window.addEventListener("pointermove",M),window.addEventListener("pointerup",R),window.addEventListener("pointercancel",Z),()=>{window.removeEventListener("pointermove",M),window.removeEventListener("pointerup",R),window.removeEventListener("pointercancel",Z)}},[p.isDragging,P]);const W=Mp(p);return{state:p,ui:W,handlers:{onPointerMove:j,onPointerDown:O,onPointerUp:B,onPointerCancel:L},setShape:I}}function zp({mode:o,x:u,y:c,size:d=20}){const p=o==="ROTATE"?Kc:ha;return s.jsx("div",{className:"absolute pointer-events-none",style:{left:`${u}px`,top:`${c}px`,transform:"translate(-50%, -50%)",width:`${d}px`,height:`${d}px`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:s.jsx(p,{className:"w-5 h-5 text-white"})})}function Lp({points:o,showDebug:u}){const c=o.map(j=>j.x),d=o.map(j=>j.y),p=Math.min(...c),v=Math.min(...d);Math.max(...c),Math.max(...d);const w=o.map(j=>({x:j.x-p,y:j.y-v})),P=`M ${w[0].x} ${w[0].y} L ${w[1].x} ${w[1].y} L ${w[2].x} ${w[2].y} L ${w[3].x} ${w[3].y} Z`,C=Co(o);return s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",overflow:"visible"},children:s.jsx("path",{d:P,fill:"rgba(249, 115, 22, 0.1)",stroke:"#f97316",strokeWidth:"2"})}),u&&s.jsx("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",overflow:"visible"},children:(()=>{const j=o.map(B=>({x:B.x+(C.x-B.x)*.1-p,y:B.y+(C.y-B.y)*.1-v})),O=`M ${j[0].x} ${j[0].y} L ${j[1].x} ${j[1].y} L ${j[2].x} ${j[2].y} L ${j[3].x} ${j[3].y} Z`;return s.jsx("path",{d:O,fill:"rgba(249, 115, 22, 0.05)",stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"})})()})]})}function Rp({center:o,radius:u,offsetX:c,offsetY:d}){const p=o.x-c,v=o.y-d;return s.jsx("div",{className:"absolute pointer-events-none border-2 border-blue-500 bg-blue-500/10 rounded-full",style:{left:`${p-u}px`,top:`${v-u}px`,width:`${u*2}px`,height:`${u*2}px`}})}function Op({shape:o,showIcon:u,iconMode:c,iconCenter:d,showDebug:p=!1,className:v="",style:w}){let P=0,C=0,j=0,O=0;if(o.kind==="quad"){const I=o.points.map(M=>M.x),W=o.points.map(M=>M.y);P=Math.min(...I),C=Math.min(...W),j=Math.max(...I),O=Math.max(...W)}else P=o.center.x-o.radius,C=o.center.y-o.radius,j=o.center.x+o.radius,O=o.center.y+o.radius;const B=j-P,L=O-C;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute pointer-events-none ${v}`,style:{left:`${P}px`,top:`${C}px`,width:`${B}px`,height:`${L}px`,...w},children:o.kind==="quad"?s.jsx(Lp,{points:o.points,showDebug:p,offsetX:P,offsetY:C}):s.jsx(Rp,{center:o.center,radius:o.radius,offsetX:P,offsetY:C})}),u&&s.jsx(zp,{mode:c,x:d.x,y:d.y})]})}function Dp(o,u,c,d,p=0){const v=c/2,w=d/2,P=o+v,C=u+w,j=[{x:P-v,y:C-w},{x:P+v,y:C-w},{x:P+v,y:C+w},{x:P-v,y:C+w}];if(p!==0){const O={x:P,y:C},B=p*Math.PI/180;return{kind:"quad",points:j.map(L=>qc(L,O,B))}}return{kind:"quad",points:j}}function $p(o){if(o.kind!=="quad")throw new Error("Expected quad shape");const u=o.points,c=u.map(Z=>Z.x),d=u.map(Z=>Z.y),p=Math.min(...c),v=Math.max(...c),w=Math.min(...d),P=Math.max(...d),C=v-p,j=P-w,O=(p+v)/2,B=(w+P)/2,L=u[0],I=L.x-O,W=L.y-B,R=Math.atan2(W,I)*180/Math.PI;return{x:p,y:w,width:C,height:j,rotation:R<0?R+360:R}}function Ap(o,u,c,d){const p=Math.min(c,d)/2,v=o+c/2,w=u+d/2;return{kind:"circle",center:{x:v,y:w},radius:p}}function Fp(o){if(o.kind!=="circle")throw new Error("Expected circle shape");const u=o.radius*2;return{x:o.center.x-o.radius,y:o.center.y-o.radius,width:u,height:u}}function Up({dimension:o,containerWidth:u,containerHeight:c,imageWidth:d,imageHeight:p,onSelectionChange:v,externalDimensions:w,containerRef:P}){const C=()=>{if(!u||!c||u===0||c===0||!o)return{width:200,height:200,x:0,y:0};let $=200,U=200,de=1;if(d&&p&&d>0&&p>0&&(de=d/p),o==="vertical"){let ve=.75;d&&p&&d>0&&p>0&&de<1&&(ve=de);const we=u/c;ve>we?($=u*.9,U=$/ve):(U=c*.9,$=U*ve)}else o==="landscape"?1.33>u/c?($=u*.9,U=$/1.33):(U=c*.9,$=U*1.33):o==="square"?($=Math.min(u*.8,c*.8,400),U=$):o==="circular"&&($=Math.min(u*.6,c*.6,300),U=$);$=Math.max(50,Math.min($,u)),U=Math.max(50,Math.min(U,c));const oe=(u-$)/2,ge=(c-U)/2;return{width:$,height:U,x:oe,y:ge}},j=o==="circular",O=($,U)=>j?Ap($.x,$.y,U.width,U.height):Dp($.x,$.y,U.width,U.height,0),B=$=>{if($.kind==="circle"){const U=Fp($);return{position:{x:U.x,y:U.y},size:{width:U.width,height:U.height}}}else{const U=$p($);return{position:{x:U.x,y:U.y},size:{width:U.width,height:U.height}}}},L=C(),[I,W]=k.useState({x:L.x,y:L.y}),[M,R]=k.useState({width:L.width,height:L.height}),[Z,ee]=k.useState(!1),[z,x]=k.useState(null),[K,Q]=k.useState(null),[Ne,xe]=k.useState(null),[re,b]=k.useState(null),[te,Ee]=k.useState(!1),[Ie,pe]=k.useState(null),ue=k.useRef({x:0,y:0}),Pe=k.useRef({x:0,y:0}),ne=k.useRef({width:0,height:0}),D=k.useRef({x:0,y:0}),ae=k.useRef(null),X=P||ae,m=Ip({initialShape:O(I,M),config:{quadInnerInsetRatio:.1},containerRef:X}),S=k.useRef(!1),q=k.useRef(!1);k.useEffect(()=>{if(m.state.isDragging&&!q.current){S.current=!0;const{position:$,size:U}=B(m.state.shape),de=Math.max(0,Math.min(u-U.width,$.x)),oe=Math.max(0,Math.min(c-U.height,$.y)),ge=Math.min(U.width,u-de),ve=Math.min(U.height,c-oe);W({x:de,y:oe}),R({width:ge,height:ve}),S.current=!1}},[m.state.shape,m.state.isDragging,u,c]),k.useEffect(()=>{if(!m.state.isDragging&&!S.current){q.current=!0;const $=O(I,M);m.setShape($),q.current=!1}},[I.x,I.y,M.width,M.height,j]),k.useEffect(()=>{if(w&&u>0&&c>0&&d&&p){const $=w.width/d*u,U=w.height/p*c,de=(u-$)/2,oe=(c-U)/2;R({width:$,height:U}),W({x:de,y:oe})}else{const $=C();R({width:$.width,height:$.height}),W({x:$.x,y:$.y})}},[o,u,c,d,p,w]),k.useEffect(()=>{if(v&&u>0&&c>0&&d&&p&&M.width>0&&M.height>0){const $=Math.round(M.width/u*d),U=Math.round(M.height/c*p);v({width:$,height:U})}},[M,u,c,d,p,v]);const he=($,U)=>{$.stopPropagation(),ee(!0),Q(U),ue.current={...I},ne.current={...M},Pe.current={x:$.clientX,y:$.clientY},$.currentTarget.setPointerCapture($.pointerId)},ye=$=>{if(!Z||!K)return;const U=$.clientX-Pe.current.x,de=$.clientY-Pe.current.y;let oe=ne.current.width,ge=ne.current.height,ve=ue.current.x,we=ue.current.y;K==="top"?(ge=Math.max(50,Math.min(c-ue.current.y,ne.current.height-de)),we=ue.current.y+(ne.current.height-ge)):K==="bottom"?ge=Math.max(50,Math.min(c-ue.current.y,ne.current.height+de)):K==="left"?(oe=Math.max(50,Math.min(u-ue.current.x,ne.current.width-U)),ve=ue.current.x+(ne.current.width-oe)):K==="right"&&(oe=Math.max(50,Math.min(u-ue.current.x,ne.current.width+U))),ve=Math.max(0,Math.min(u-oe,ve)),we=Math.max(0,Math.min(c-ge,we)),oe=Math.min(oe,u-ve),ge=Math.min(ge,c-we),R({width:oe,height:ge}),W({x:ve,y:we})},ie=()=>{ee(!1),Q(null)},Re=$=>{var de;$.stopPropagation(),ee(!0),ne.current={...M},Pe.current={x:$.clientX,y:$.clientY};const U=(de=$.currentTarget.closest(".absolute"))==null?void 0:de.parentElement;if(U){const oe=U.getBoundingClientRect(),ge=oe.left+I.x+M.width/2,ve=oe.top+I.y+M.height/2;D.current={x:ge,y:ve}}$.currentTarget.setPointerCapture($.pointerId)},Me=$=>{if(!Z||!j)return;const U=document.querySelector(".preview-image-container");if(!U)return;const de=U.getBoundingClientRect(),oe=de.left+I.x+M.width/2,ge=de.top+I.y+M.height/2;let we=Math.sqrt(($.clientX-oe)**2+($.clientY-ge)**2);we=Math.max(25,Math.min(we,Math.min(u,c)/2));const Ge=Math.min(I.x+M.width/2,u-(I.x+M.width/2)),Ze=Math.min(I.y+M.height/2,c-(I.y+M.height/2));we=Math.min(we,Ge,Ze);const et=we*2,zn=I.x+(M.width-et)/2,Yn=I.y+(M.height-et)/2,bn=Math.max(0,Math.min(u-et,zn)),kt=Math.max(0,Math.min(c-et,Yn));W({x:bn,y:kt}),R({width:et,height:et})},$e=($,U)=>{var oe;$.stopPropagation(),ee(!0),x(U),ue.current={...I},ne.current={...M},Pe.current={x:$.clientX,y:$.clientY};const de=(oe=$.currentTarget.closest(".absolute"))==null?void 0:oe.parentElement;if(de){const ge=de.getBoundingClientRect();let ve=0,we=0;U==="top-left"?(ve=ge.left+I.x+M.width,we=ge.top+I.y+M.height):U==="top-right"?(ve=ge.left+I.x,we=ge.top+I.y+M.height):U==="bottom-left"?(ve=ge.left+I.x+M.width,we=ge.top+I.y):U==="bottom-right"&&(ve=ge.left+I.x,we=ge.top+I.y),D.current={x:ve,y:we}}$.currentTarget.setPointerCapture($.pointerId)},Qe=$=>{if(!Z||!z)return;const U=ne.current.width/ne.current.height,de=Math.sqrt(($.clientX-D.current.x)**2+($.clientY-D.current.y)**2),oe=Math.sqrt(ne.current.width**2+ne.current.height**2);let ge=de/oe;ge=Math.max(.1,Math.min(5,ge));let ve=ne.current.width*ge,we=ne.current.height*ge;if(o==="square"||o==="circular"){const et=(ve+we)/2;ve=et,we=et}else we=ve/U;ve=Math.max(50,Math.min(u,ve)),we=Math.max(50,Math.min(c,we));let Ge=ue.current.x,Ze=ue.current.y;z==="top-left"?(Ge=ue.current.x+(ne.current.width-ve),Ze=ue.current.y+(ne.current.height-we)):z==="top-right"?Ze=ue.current.y+(ne.current.height-we):z==="bottom-left"&&(Ge=ue.current.x+(ne.current.width-ve)),Ge=Math.max(0,Math.min(u-ve,Ge)),Ze=Math.max(0,Math.min(c-we,Ze)),ve=Math.min(ve,u-Ge),we=Math.min(we,c-Ze),R({width:ve,height:we}),W({x:Ge,y:Ze})},At=()=>{ee(!1),x(null)};k.useEffect(()=>{const $=de=>{Z&&z&&Qe(de),Z&&K&&ye(de),Z&&j&&!z&&!K&&Me(de)},U=de=>{try{const oe=de.target;oe.releasePointerCapture&&oe.releasePointerCapture(de.pointerId)}catch{}Z&&z&&At(),Z&&K&&ie(),Z&&j&&!z&&!K&&ee(!1)};if(Z)return window.addEventListener("pointermove",$),window.addEventListener("pointerup",U),window.addEventListener("pointercancel",U),()=>{window.removeEventListener("pointermove",$),window.removeEventListener("pointerup",U),window.removeEventListener("pointercancel",U)}},[Z,z,K,j,I,M,u,c,o]);const yr=`crop-mask-${Math.random().toString(36).substr(2,9)}`,Yt=I.x+M.width/2,Hn=I.y+M.height/2;return s.jsxs("div",{ref:ae,className:"absolute inset-0",style:{width:"100%",height:"100%",left:0,top:0,right:0,bottom:0,pointerEvents:Z?"none":"auto"},onPointerMove:$=>{Z||m.handlers.onPointerMove($)},onPointerDown:$=>{!Z&&!Ie&&!te&&m.handlers.onPointerDown($)},onPointerUp:$=>{m.handlers.onPointerUp($)},onPointerCancel:$=>{m.handlers.onPointerCancel($)},children:[s.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:[s.jsx("defs",{children:s.jsxs("mask",{id:yr,children:[s.jsx("rect",{width:"100%",height:"100%",fill:"white"}),j?s.jsx("circle",{cx:Yt,cy:Hn,r:Math.min(M.width,M.height)/2,fill:"black"}):s.jsx("rect",{x:I.x,y:I.y,width:M.width,height:M.height,fill:"black"})]})}),s.jsx("rect",{width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.7)",mask:`url(#${yr})`})]}),!Z&&s.jsx(Op,{shape:m.state.shape,showIcon:m.ui.showIcon,iconMode:m.ui.iconMode,iconCenter:m.ui.center,showDebug:!1}),s.jsx("div",{className:"absolute",style:{left:`${I.x}px`,top:`${I.y}px`,width:`${M.width}px`,height:`${M.height}px`,pointerEvents:m.state.isDragging?"none":"auto",touchAction:"none",cursor:j?te?"nwse-resize":"default":Ie==="corner-nw"||Ie==="corner-se"?"nwse-resize":Ie==="corner-ne"||Ie==="corner-sw"?"nesw-resize":Ie==="edge-n"||Ie==="edge-s"?"ns-resize":Ie==="edge-w"||Ie==="edge-e"?"ew-resize":"default"},onPointerDown:$=>{if(!m.state.isDragging){if(j){const U=$.currentTarget.getBoundingClientRect(),de=U.left+U.width/2,oe=U.top+U.height/2,ge=$.clientX,ve=$.clientY,we=Math.sqrt((ge-de)**2+(ve-oe)**2),Ge=Math.min(M.width,M.height)/2;Math.abs(we-Ge)<12&&($.stopPropagation(),Re($))}else if(Ie!=null&&Ie.startsWith("corner-")){const U=Ie.replace("corner-",""),de={nw:"top-left",ne:"top-right",sw:"bottom-left",se:"bottom-right"};$.stopPropagation(),$e($,de[U])}else if(Ie!=null&&Ie.startsWith("edge-")){const U=Ie.replace("edge-",""),de={n:"top",s:"bottom",w:"left",e:"right"};$.stopPropagation(),he($,de[U])}}},onMouseMove:$=>{if(j){const U=$.currentTarget.getBoundingClientRect(),de=U.left+U.width/2,oe=U.top+U.height/2,ge=$.clientX,ve=$.clientY,we=Math.sqrt((ge-de)**2+(ve-oe)**2),Ge=Math.min(M.width,M.height)/2;Ee(Math.abs(we-Ge)<12)}else{const U=$.currentTarget.getBoundingClientRect(),de=$.clientX-U.left,oe=$.clientY-U.top,ge=Math.min(M.width,M.height)*.05,ve=8,we=Math.sqrt((de-0)**2+(oe-0)**2),Ge=Math.sqrt((de-M.width)**2+(oe-0)**2),Ze=Math.sqrt((de-0)**2+(oe-M.height)**2),et=Math.sqrt((de-M.width)**2+(oe-M.height)**2);we<ge?pe("corner-nw"):Ge<ge?pe("corner-ne"):Ze<ge?pe("corner-sw"):et<ge?pe("corner-se"):oe<ve&&de>ge&&de<M.width-ge?pe("edge-n"):oe>M.height-ve&&de>ge&&de<M.width-ge?pe("edge-s"):de<ve&&oe>ge&&oe<M.height-ge?pe("edge-w"):de>M.width-ve&&oe>ge&&oe<M.height-ge?pe("edge-e"):pe(null)}},onMouseLeave:()=>{j?Ee(!1):pe(null)},children:s.jsx("div",{className:`w-full h-full border-2 border-orange-500 ${j?"rounded-full":"rounded-none"}`,style:{backgroundColor:"transparent",boxShadow:"none"}})})]})}function Vp({selectedTool:o,onToolChange:u,selectedDimension:c,imageAspectRatio:d,onSelectToolClick:p,onCropClick:v,canUndo:w,historyCount:P,onUndo:C,hasChanges:j,onSave:O,onHome:B,onColorPresetsClick:L,onAdjustmentsClick:I,isColorPresetsActive:W=!1,isAdjustmentsActive:M=!1,isManualPixelSelect:R=!1}){const[Z,ee]=k.useState(null),z=xe=>{ee(xe),setTimeout(()=>ee(null),100)},x=()=>c==="vertical"?s.jsx(Oc,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}):c==="square"?s.jsx(da,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}):c==="landscape"?s.jsx(Rc,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}):c==="circular"?s.jsx(Hc,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}):d==="vertical"?s.jsx(Oc,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}):d==="square"?s.jsx(da,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}):d==="landscape"?s.jsx(Rc,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}):s.jsx(da,{className:`w-4 h-4 ${o==="select"?"text-black":"text-white"}`}),K="flex items-center justify-center transition-transform duration-75",Q="scale-[0.96]",Ne="opacity-40 cursor-not-allowed";return s.jsxs("div",{className:"w-full h-[25px] min-h-[25px] bg-orange-500 flex items-center gap-3 px-4 flex-shrink-0",style:{borderRadius:0,marginTop:0,paddingTop:0},children:[s.jsx("button",{onClick:()=>{z("home"),B()},className:`${K} ${Z==="home"?Q:""}`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px"},children:s.jsx(Ff,{className:"w-4 h-4 text-white"})}),s.jsx("button",{onClick:()=>{z("select"),p()},className:`${K} ${Z==="select"?Q:""}`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px"},children:x()}),s.jsx("button",{onClick:()=>{z("pointer"),u(o==="pointer"?null:"pointer")},className:`${K} ${Z==="pointer"?Q:""}`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px"},children:s.jsx(bf,{className:`w-4 h-4 ${o==="pointer"?"text-black":"text-white"}`})}),s.jsx("button",{onClick:()=>{R||(z("scissors"),v())},disabled:R,className:`${K} ${Z==="scissors"?Q:""} ${R?Ne:""}`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px",pointerEvents:R?"none":"auto"},children:s.jsx(ep,{className:`w-4 h-4 ${R?"text-white opacity-40":"text-white"}`})}),s.jsx("button",{onClick:()=>{R||(z("colorPresets"),L())},disabled:R,className:`${K} ${Z==="colorPresets"?Q:""} ${R?Ne:""}`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px",pointerEvents:R?"none":"auto"},children:s.jsx(Qc,{className:`w-4 h-4 ${R?"text-white opacity-40":W?"text-black":"text-white"}`})}),s.jsx("button",{onClick:()=>{R||(z("adjustments"),I())},disabled:R,className:`${K} ${Z==="adjustments"?Q:""} ${R?Ne:""}`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px",pointerEvents:R?"none":"auto"},children:s.jsx(op,{className:`w-4 h-4 ${R?"text-white opacity-40":M?"text-black":"text-white"}`})}),s.jsx("button",{onClick:()=>{w&&!R&&(z("undo"),C())},disabled:!w||R,className:`${K} ${Z==="undo"?Q:""} ${!w||R?Ne:""}`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px",pointerEvents:R?"none":"auto"},children:s.jsx(pp,{className:`w-4 h-4 ${w&&!R?"text-white":"text-white opacity-40"}`})}),s.jsx("button",{onClick:()=>{j&&!R&&(z("save"),O())},disabled:!j||R,className:`${K} ${Z==="save"?Q:""} ${!j||R?Ne:""} ml-auto`,style:{minWidth:"44px",minHeight:"44px",padding:"0 8px",pointerEvents:R?"none":"auto"},children:s.jsx(Zf,{className:`w-4 h-4 ${j&&!R?"text-white":"text-white opacity-40"}`})})]})}function Ht({title:o,mode:u,options:c,selectedId:d,onSelect:p,onClose:v,align:w,color:P="white"}){const C=o&&o.trim()!=="";if(u==="text"&&c.length!==2)return console.warn('OverlayOptionsRow: modo "text" requiere exactamente 2 opciones'),null;const j="text-orange-500",O="text-white",B="text-orange-500";return s.jsxs("div",{className:"w-full flex items-center gap-2",onClick:L=>L.stopPropagation(),children:[C&&s.jsxs("span",{className:`${j} text-sm font-medium whitespace-nowrap flex-shrink-0`,children:[o,":"]}),s.jsx("div",{className:`flex items-center flex-1 ${u==="icon"?w==="space-between"?"justify-between":"justify-center gap-2":"gap-3 justify-start"}`,children:u==="icon"?c.map(L=>{const I=d===L.id,W=!!L.icon,M=!!L.label;return console.log("[OverlayOptionsRow] Rendering button for id:",L.id),s.jsxs("button",{type:"button",onMouseDown:R=>{console.log("[OverlayOptionsRow] Button onMouseDown, id:",L.id),R.preventDefault(),R.stopPropagation(),console.log("[OverlayOptionsRow] Calling onSelect from onMouseDown, id:",L.id),p(L.id),v&&v()},onClick:R=>{console.log("[OverlayOptionsRow] Button onClick triggered, id:",L.id),R.preventDefault(),R.stopPropagation()},className:`${W&&M?"flex flex-col items-center gap-1.5":"flex items-center justify-center"} px-3 py-1.5 hover:opacity-80 transition-opacity min-w-[44px] min-h-[44px] flex-1`,children:[L.icon&&s.jsx("div",{className:`w-6 h-6 flex items-center justify-center ${I?B:O} ${I?"opacity-100":"opacity-80"}`,children:L.icon}),L.label&&s.jsx("span",{className:`${W?"text-xs":"text-sm"} font-medium ${I?B:O} ${I?"opacity-100 font-bold":"opacity-80"}`,children:L.label})]},L.id)}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{p(c[0].id),v&&v()},className:`text-sm font-medium hover:opacity-80 transition-opacity px-1.5 py-1 flex items-center whitespace-nowrap ${d===c[0].id?`${B} opacity-100 font-bold`:`${O} opacity-80`}`,children:c[0].label}),s.jsx("button",{onClick:()=>{p(c[1].id),v&&v()},className:`text-sm font-medium hover:opacity-80 transition-opacity px-1.5 py-1 flex items-center whitespace-nowrap ${d===c[1].id?`${B} opacity-100 font-bold`:`${O} opacity-80`}`,children:c[1].label})]})})]})}function Pt({children:o,className:u="",style:c}){return s.jsx("div",{className:`
        relative w-full px-3 rounded-sm
        h-[60px] flex items-center
        bg-black/55 backdrop-blur-sm
        border border-black/55
        shadow-lg
        pointer-events-none
        ${u}
      `,style:c,children:s.jsx("div",{className:"pointer-events-auto w-full",children:o})})}const Xp=[{type:"color",icon:Qc,label:"Color"},{type:"grayscale",icon:lp,label:"Grises"},{type:"sepia",icon:Lf,label:"Sepia"},{type:"bw",icon:Hc,label:"B&W"}];function Bp({onSelect:o,onClose:u,selectedPreset:c}){const d=Xp.map(p=>{const v=p.icon;return{id:p.type,label:p.label,icon:s.jsx(v,{className:"w-6 h-6"})}});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:u}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"",mode:"icon",options:d,selectedId:c||null,onSelect:p=>o(p),color:"white",align:"space-between"})})})]})}const Wp=[{type:"brightness",icon:dp,label:"Brillo"},{type:"contrast",icon:Of,label:"Contraste"},{type:"saturation",icon:$f,label:"Saturacin"},{type:"sharpness",icon:ap,label:"Nitidez"}];function Hp({onSelect:o,onClose:u}){const c=Wp.map(d=>{const p=d.icon;return{id:d.type,label:d.label,icon:s.jsx(p,{className:"w-6 h-6"})}});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:u}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"",mode:"icon",options:c,onSelect:d=>{o(d),u()},color:"white",align:"space-between"})})})]})}function No({label:o,value:u,valueText:c,min:d,max:p,step:v=1,onChange:w,onCommit:P,isVisible:C,onClose:j}){const[O,B]=k.useState(!1),L=k.useRef(null),I=k.useRef(0),W=k.useRef(0);if(!C)return null;const M=z=>{B(!0),I.current=z.clientX,W.current=u,z.currentTarget.setPointerCapture(z.pointerId),z.preventDefault()},R=z=>{if(!O||!L.current)return;const x=L.current.getBoundingClientRect(),Q=(z.clientX-I.current)/x.width*100,Ne=p-d,xe=Q/100*Ne,re=Math.max(d,Math.min(p,W.current+xe)),b=v>0?Math.round(re/v)*v:re;w(b)},Z=z=>{O&&(B(!1),z.currentTarget.releasePointerCapture(z.pointerId),P&&P(u))},ee=(u-d)/(p-d)*100;return s.jsxs(s.Fragment,{children:[j&&s.jsx("div",{className:"absolute inset-0 z-10",onClick:j}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsxs("div",{ref:L,className:"w-full flex items-center gap-3",onClick:z=>z.stopPropagation(),onPointerDown:M,onPointerMove:R,onPointerUp:Z,children:[s.jsx("span",{className:"text-xs font-medium text-orange-500 whitespace-nowrap",children:o}),s.jsx("div",{className:"flex-1 relative h-1.5 bg-white/20 rounded-full overflow-hidden",style:{minWidth:"150px"},children:s.jsx("div",{className:"absolute top-0 left-0 h-full bg-orange-500 transition-all duration-75",style:{width:`${ee}%`}})}),s.jsx("span",{className:"text-xs font-medium text-orange-500 whitespace-nowrap",children:c})]})})})]})}function Yp({onInclude:o,onExclude:u,onCancel:c,selectedMode:d}){const p=[{id:"include",label:"INTERIOR"},{id:"exclude",label:"EXTERIOR"}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:c}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Modo de seleccin",mode:"text",options:p,selectedId:d||null,onSelect:v=>{v==="include"?o():u()},color:"white"})})})]})}function bp({label:o,checked:u,onChange:c}){const[d,p]=k.useState(!1),v=()=>{p(!0),setTimeout(()=>p(!1),100),c(!u)};return s.jsx("button",{onClick:v,className:`
        relative w-full px-3 rounded-sm transition-all duration-300
        h-[30px] flex items-center justify-center
        ${u?"border-2 border-orange-500 bg-[#1C1C1E]":"border-[1px] border-border bg-[#1C1C1E] hover:bg-[#2C2C2E] active:bg-[#2C2C2E]"}
        ${d?"scale-[0.96]":""}
        select-none touch-none
      `,children:s.jsxs("span",{className:`text-xs font-medium ${u?"text-orange-500":"text-white"}`,children:[o," ",u&&""]})})}function Qp({initialText:o="",onConfirm:u,onCancel:c,placeholder:d="Ingrese texto"}){const[p,v]=k.useState(o),w=k.useRef(null);k.useEffect(()=>{var j;(j=w.current)==null||j.focus()},[]);const P=()=>{p.trim()?u(p.trim()):c&&c()},C=j=>{j.key==="Enter"&&!j.shiftKey?(j.preventDefault(),P()):j.key==="Escape"&&c&&c()};return s.jsxs("div",{className:"w-full flex items-center gap-2",onClick:j=>j.stopPropagation(),children:[s.jsx("input",{ref:w,type:"text",value:p,onChange:j=>v(j.target.value),onKeyDown:C,placeholder:d,className:"flex-1 bg-transparent border-none outline-none text-white text-sm font-medium placeholder:text-white/50",style:{caretColor:"white"}}),s.jsx("button",{onClick:P,className:"text-white hover:text-orange-500 transition-colors flex items-center justify-center min-w-[24px] min-h-[24px]","aria-label":"Confirmar",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",children:s.jsx("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function Kp({onComplete:o,onClose:u}){const[c,d]=k.useState("WM_MODE"),[p,v]=k.useState(null),[w,P]=k.useState(null),[C,j]=k.useState(""),[O,B]=k.useState(null),[L,I]=k.useState(!0),[W,M]=k.useState({x:50,y:50,rotation:0,scale:1}),R=k.useRef(null);k.useEffect(()=>{d("WM_MODE"),v(null),P(null)},[]);const Z=re=>{v(re),d(re==="AUTO"?"WM_VISIBLE":"WM_CUSTOM_PICK")},ee=re=>{var b;P(re),re==="TEXT"?d("WM_TEXT_INPUT"):(b=R.current)==null||b.click()},z=re=>{var te;const b=(te=re.target.files)==null?void 0:te[0];b&&(B(b),d("WM_VISIBLE"))},x=re=>{j(re),d("WM_VISIBLE")},K=re=>{I(re),re?d("WM_POSITIONING"):(o({mode:p==="AUTO"?"AUTO":w==="TEXT"?"CUSTOM_TEXT":"CUSTOM_IMAGE",visible:!1,text:w==="TEXT"?C:void 0,imageFile:w==="IMAGE"?O:null}),p==="CUSTOM"?(d("WM_CUSTOM_PICK"),P(null)):u())},Q=()=>{o({mode:p==="AUTO"?"AUTO":w==="TEXT"?"CUSTOM_TEXT":"CUSTOM_IMAGE",visible:!0,text:w==="TEXT"?C:void 0,imageFile:w==="IMAGE"?O:null,transform:W}),p==="CUSTOM"?(d("WM_CUSTOM_PICK"),P(null)):u()},Ne=()=>{d("WM_VISIBLE")},xe=()=>{d("WM_CUSTOM_PICK")};if(c==="WM_MODE"){const re=[{id:"AUTO",label:"Automtica"},{id:"CUSTOM",label:"Personalizada"}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:u}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Tipo de seleccin",mode:"text",options:re,onSelect:b=>Z(b),color:"white"})})})]})}if(c==="WM_CUSTOM_PICK"){const re=[{id:"TEXT",label:"Ingresar texto"},{id:"IMAGE",label:"Seleccionar archivo"}];return s.jsxs(s.Fragment,{children:[s.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:z,className:"hidden"}),s.jsx("div",{className:"absolute inset-0 z-10",onClick:()=>{d("WM_MODE"),v(null)}}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Seleccin personalizada",mode:"text",options:re,onSelect:b=>ee(b),color:"white"})})})]})}if(c==="WM_TEXT_INPUT")return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:xe}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Qp,{initialText:C,onConfirm:x,onCancel:xe,placeholder:"Ingrese texto"})})})]});if(c==="WM_VISIBLE"){const re=[{id:"YES",label:"S"},{id:"NO",label:"No"}],b=()=>{p==="AUTO"?(d("WM_MODE"),v(null)):(d("WM_CUSTOM_PICK"),P(null))};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:b}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Visible",mode:"text",options:re,onSelect:te=>K(te==="YES"),color:"white"})})})]})}return c==="WM_POSITIONING"?s.jsx(qp,{mode:p==="AUTO"?"AUTO":w==="TEXT"?"CUSTOM_TEXT":"CUSTOM_IMAGE",text:w==="TEXT"?C:void 0,imageFile:w==="IMAGE"?O:null,transform:W,onTransformChange:M,onConfirm:Q,onCancel:Ne}):null}function qp({mode:o,text:u,imageFile:c,transform:d,onTransformChange:p,onConfirm:v,onCancel:w}){const[P,C]=k.useState(null);return k.useEffect(()=>{if(o==="CUSTOM_IMAGE"&&c){const j=new FileReader;j.onload=O=>{var B;C((B=O.target)==null?void 0:B.result)},j.readAsDataURL(c)}else C(null)},[o,c]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:w}),s.jsxs("div",{className:"absolute z-20 pointer-events-none",style:{left:`${d.x}%`,top:`${d.y}%`,transform:"translate(-50%, -50%)"},children:[o==="AUTO"&&s.jsx("div",{className:"text-white text-sm font-medium bg-black/50 px-2 py-1 rounded",children:"Marca de agua"}),o==="CUSTOM_TEXT"&&u&&s.jsx("div",{className:"text-white text-sm font-medium bg-black/50 px-2 py-1 rounded",children:u}),o==="CUSTOM_IMAGE"&&P&&s.jsx("img",{src:P,alt:"Watermark",className:"max-w-[100px] max-h-[100px] object-contain"})]}),s.jsx("div",{className:"absolute z-20",style:{bottom:"30px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Confirmacin",mode:"text",options:[{id:"confirm",label:"Listo"},{id:"cancel",label:"Cancelar"}],onSelect:j=>{j==="confirm"?v():w()},color:"white"})})})]})}function Gp({containerWidth:o,containerHeight:u,imageWidth:c,imageHeight:d,onSelectionComplete:p,onCancel:v}){const[w,P]=k.useState(!1),[C,j]=k.useState(null),[O,B]=k.useState(null),L=k.useRef(null),I=c/o,W=d/u,M=z=>{var Ne;z.stopPropagation();const x=(Ne=L.current)==null?void 0:Ne.getBoundingClientRect();if(!x)return;const K=z.clientX-x.left,Q=z.clientY-x.top;P(!0),j({x:K,y:Q}),B({x:K,y:Q}),z.currentTarget.setPointerCapture(z.pointerId)},R=z=>{var Ne;if(!w||!C)return;const x=(Ne=L.current)==null?void 0:Ne.getBoundingClientRect();if(!x)return;const K=Math.max(0,Math.min(o,z.clientX-x.left)),Q=Math.max(0,Math.min(u,z.clientY-x.top));B({x:K,y:Q})},Z=z=>{if(!w||!C||!O)return;const x=Math.min(C.x,O.x),K=Math.min(C.y,O.y),Q=Math.abs(O.x-C.x),Ne=Math.abs(O.y-C.y),xe=Math.round(x*I),re=Math.round(K*W),b=Math.round(Q*I),te=Math.round(Ne*W);b>10&&te>10&&p({x:xe,y:re,width:b,height:te}),P(!1),j(null),B(null),z.currentTarget.releasePointerCapture(z.pointerId)},ee=C&&O?{x:Math.min(C.x,O.x),y:Math.min(C.y,O.y),width:Math.abs(O.x-C.x),height:Math.abs(O.y-C.y)}:null;return s.jsx("div",{ref:L,className:"absolute inset-0 z-30 cursor-crosshair",onPointerDown:M,onPointerMove:R,onPointerUp:Z,style:{touchAction:"none"},children:ee&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute bg-black/40",style:{top:0,left:0,width:"100%",height:ee.y}}),s.jsx("div",{className:"absolute bg-black/40",style:{top:ee.y,left:0,width:ee.x,height:ee.height}}),s.jsx("div",{className:"absolute bg-black/40",style:{top:ee.y,left:ee.x+ee.width,width:o-(ee.x+ee.width),height:ee.height}}),s.jsx("div",{className:"absolute bg-black/40",style:{top:ee.y+ee.height,left:0,width:"100%",height:u-(ee.y+ee.height)}}),s.jsx("div",{className:"absolute border-2 border-orange-500",style:{left:ee.x,top:ee.y,width:ee.width,height:ee.height}})]})})}function Vc({areas:o,containerWidth:u,containerHeight:c,imageWidth:d,imageHeight:p}){const v=u/d,w=c/p;return s.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none",children:o.map((P,C)=>{const j=P.x*v,O=P.y*w,B=P.width*v,L=P.height*w;return s.jsx("div",{className:"absolute border-2 border-red-500 bg-red-500/20",style:{left:`${j}px`,top:`${O}px`,width:`${B}px`,height:`${L}px`},children:s.jsx("div",{className:"w-full h-full opacity-50",style:{backgroundImage:`
                  repeating-linear-gradient(0deg, transparent, transparent 8px, rgba(255,0,0,0.1) 8px, rgba(255,0,0,0.1) 16px),
                  repeating-linear-gradient(90deg, transparent, transparent 8px, rgba(255,0,0,0.1) 8px, rgba(255,0,0,0.1) 16px)
                `}})},C)})})}function Zp({shape:o,containerWidth:u,containerHeight:c,opacity:d=.55}){const p=`selection-mask-${Math.random().toString(36).substr(2,9)}`;return s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{width:`${u}px`,height:`${c}px`,zIndex:5},children:s.jsxs("svg",{className:"absolute inset-0",style:{width:"100%",height:"100%"},children:[s.jsx("defs",{children:s.jsxs("mask",{id:p,children:[s.jsx("rect",{width:"100%",height:"100%",fill:"white"}),o.kind==="circle"?s.jsx("circle",{cx:o.center.x,cy:o.center.y,r:o.radius,fill:"black"}):s.jsx("polygon",{points:o.points.map(v=>`${v.x},${v.y}`).join(" "),fill:"black"})]})}),s.jsx("rect",{width:"100%",height:"100%",fill:`rgba(0, 0, 0, ${d})`,mask:`url(#${p})`})]})})}function Jp({imageUrl:o,onImageSelect:u,onVideoSelect:c,onBack:d}){var Dn,ol,er,Mi,sl,al,tr,Ir;const[p,v]=k.useState(0),[w,P]=k.useState(0),[C,j]=k.useState(0),[O,B]=k.useState(Ac),[L,I]=k.useState(null),[W,M]=k.useState(800),[R,Z]=k.useState(!1),[ee,z]=k.useState(!1),[x,K]=k.useState(!1),[Q,Ne]=k.useState(!1),[xe,re]=k.useState(!1),[b,te]=k.useState("jpg"),[Ee,Ie]=k.useState("color"),[pe,ue]=k.useState(null),[Pe,ne]=k.useState(""),[D,ae]=k.useState(""),[X,m]=k.useState(0),[S,q]=k.useState(null),[he,ye]=k.useState(null),[ie,Re]=k.useState(null),[Me,$e]=k.useState(!1),[Qe,At]=k.useState(null),[yr,Yt]=k.useState(!1),[Hn,$]=k.useState(null),[U,de]=k.useState(-1),[oe,ge]=k.useState([]),[ve,we]=k.useState(!1),[Ge,Ze]=k.useState(!1),[et,zn]=k.useState(null),[Yn,bn]=k.useState(50),[kt,bt]=k.useState(o),[Qt,mt]=k.useState(null),[gr,Qn]=k.useState(!1),[_t,xr]=k.useState("NONE"),[Kn,Wr]=k.useState(!1),[qn,vr]=k.useState(!0),[Il,En]=k.useState(""),[wr,zl]=k.useState(null),[di,Ll]=k.useState({x:50,y:50,rotation:0,scale:1}),[Hr,Gn]=k.useState(!1),[nt,st]=k.useState("IDLE"),[Kt,St]=k.useState(null),[on,Ft]=k.useState(null),[Nt,yt]=k.useState(null),[sn,kr]=k.useState(50),[Sr,Ln]=k.useState([]),[Yr,an]=k.useState([]),[Rl,Nr]=k.useState(null),Mo=({onClose:h})=>(k.useEffect(()=>{const _=J=>{J.key==="Escape"&&h()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[h]),s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",onClick:_=>{_.target===_.currentTarget&&h()},style:{pointerEvents:"auto"},children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:h}),s.jsxs("div",{className:"relative w-full max-w-md bg-[#0B0B0D] rounded-t-[20px] max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),style:{pointerEvents:"auto"},children:[s.jsx("div",{className:"flex justify-center pt-3 pb-2",children:s.jsx("div",{className:"w-10 h-1 bg-white/30 rounded-full"})}),s.jsxs("div",{className:"px-5 pb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ajustes"}),s.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Dc,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-base font-semibold text-white/90 mb-3",children:"Aplicacin"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-white/75",children:"Versin: MVP"}),s.jsx("p",{className:"text-sm text-white/75",children:"Modo: Offline-first"}),s.jsx("p",{className:"text-sm text-white/75",children:"Backend: No utiliza backend"}),s.jsx("p",{className:"text-sm text-white/75",children:"Procesamiento: 100% local"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-base font-semibold text-white/90 mb-3",children:"Exportacin"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-white/75",children:"Formato: JPG / PNG"}),s.jsx("p",{className:"text-sm text-white/75",children:"Calidad: (por defecto)"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-base font-semibold text-white/90 mb-3",children:"Privacidad"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-white/75",children:"Las imgenes y videos nunca salen del dispositivo"}),s.jsx("p",{className:"text-sm text-white/75",children:"No se almacenan datos personales"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:h,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cerrar"})})]})]})]})),fi=({onClose:h})=>(k.useEffect(()=>{const _=J=>{J.key==="Escape"&&h()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[h]),s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",onClick:_=>{_.target===_.currentTarget&&h()},style:{pointerEvents:"auto"},children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:h}),s.jsxs("div",{className:"relative w-full max-w-md bg-[#0B0B0D] rounded-t-[20px] max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),style:{pointerEvents:"auto"},children:[s.jsx("div",{className:"flex justify-center pt-3 pb-2",children:s.jsx("div",{className:"w-10 h-1 bg-white/30 rounded-full"})}),s.jsxs("div",{className:"px-5 pb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ayuda"}),s.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Dc,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-base font-semibold text-white/90 mb-3",children:"Qu hace Imagen@rte?"}),s.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Herramienta offline para tratamiento, proteccin y preparacin de imgenes y videos antes de publicar."})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-base font-semibold text-white/90 mb-3",children:"Flujo bsico"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"1. Seleccion una imagen o video"}),s.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"2. Proteg zonas sensibles"}),s.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"3. Export el archivo tratado"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-base font-semibold text-white/90 mb-3",children:"Privacidad"}),s.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Todo el procesamiento se realiza localmente en tu dispositivo."})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:h,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cerrar"})})]})]})]})),[Ol,Dl]=k.useState([]),[It,br]=k.useState(-1),pi=5,Fe=()=>{const h={pixelateValue:p,blurValue:w,cropValue:C,classicAdjustments:{...O},selectedDimension:L,dimensionPixels:W,showCropOverlay:R,cropConfirmed:Me,selectionDimensions:ie?{...ie}:null,selectedColorMode:Ee,versions:[...oe],currentVersionIndex:U,removeMetadata:gr,watermarkMode:_t,watermarkEnabled:Kn,watermarkVisible:qn,watermarkText:Il,watermarkTransform:di,pixelatedAreas:[...Yr],pixelWizardStep:nt,pixelSelectionSource:Kt,manualSelectionType:on,currentPixelRegion:Nt?{...Nt}:null,pixelIntensity:sn};Dl(_=>{const J=_.slice(0,It+1);return J.push(h),J.length>pi?(J.shift(),br(pi-1)):br(J.length-1),J})},To=()=>{if(It>0){const h=Ol[It-1];br(It-1),v(h.pixelateValue),P(h.blurValue),j(h.cropValue),B(h.classicAdjustments),I(h.selectedDimension),M(h.dimensionPixels),Z(h.showCropOverlay),$e(h.cropConfirmed),Re(h.selectionDimensions),Ie(h.selectedColorMode),ge(h.versions),de(h.currentVersionIndex),Qn(h.removeMetadata),xr(h.watermarkMode),Wr(h.watermarkEnabled),vr(h.watermarkVisible),En(h.watermarkText),Ll(h.watermarkTransform),an(h.pixelatedAreas),st(h.pixelWizardStep),St(h.pixelSelectionSource),Ft(h.manualSelectionType),yt(h.currentPixelRegion),kr(h.pixelIntensity),h.currentVersionIndex>=0&&h.versions[h.currentVersionIndex]?bt(h.versions[h.currentVersionIndex].imageUrl):bt(o)}},[qt,Ut]=k.useState(null),jn=k.useRef(null),hi=(h,_)=>{if(!o||!S)return;Fe();const J=oe.length+1,Y=D?D.replace(/\.[^/.]+$/,""):"imagen",G=D?D.split(".").pop():"jpg",Ce={fileName:`${Y}_V${String(J).padStart(3,"0")}.${G}`,dimensions:S,fileSize:X,dimensionType:null,imageUrl:kt||o,removeMetadata:h,watermarkMode:_},ze=[...oe,Ce];ge(ze),de(ze.length-1),$(Ce)},mi=h=>{Qn(h),hi(h,_t)},Qr=h=>{xr(h.mode),Wr(!0),vr(h.visible),En(h.text||""),zl(h.imageFile||null),h.transform&&Ll(h.transform);const _=h.mode==="AUTO"?"AUTO":h.mode==="CUSTOM_TEXT"?"CUSTOM_TEXT":"CUSTOM_IMAGE";hi(gr,_),Gn(!1),Ut(null)},Gt=h=>{if(!o||!S)return;const _=oe.length+1,J=D?D.replace(/\.[^/.]+$/,""):"imagen",Y=D?D.split(".").pop():"jpg",Oe={fileName:`${J}_V${String(_).padStart(3,"0")}.${Y}`,dimensions:S,fileSize:X,dimensionType:null,imageUrl:o,preset:h},Ce=[...oe,Oe];ge(Ce),de(Ce.length-1),$(Oe),bt(o),Ie(h),Fe()},Po=(h,_)=>{if(!o||!S)return;const J=oe.length+1,Y=D?D.replace(/\.[^/.]+$/,""):"imagen",G=D?D.split(".").pop():"jpg",Ce={fileName:`${Y}_V${String(J).padStart(3,"0")}.${G}`,dimensions:S,fileSize:X,dimensionType:null,imageUrl:o,adjustment:{type:h,value:_}},ze=[...oe,Ce];ge(ze),de(ze.length-1),$(Ce),bt(o),B({...O,[{brightness:"brightness",contrast:"contrast",saturation:"saturation",sharpness:"sharpness"}[h]]:_}),Fe(),zn(null)},Vt=()=>{Cn("adjustments"),ve?(we(!1),Ut(null)):(we(!0),Ze(!1))},_o=()=>{Cn("adjustments"),Ge?(Ze(!1),Ut(null)):(Ze(!0),we(!1))},Io=h=>{Gt(h),we(!1)},zo=h=>{zn(h),bn(O[{brightness:"brightness",contrast:"contrast",saturation:"saturation",sharpness:"sharpness"}[h]]),Ze(!1)},Kr=()=>{et&&Po(et,Yn)},qr=()=>{zn(null)},Zn=()=>{Z(!1),z(!1),we(!1),Ze(!1),Gn(!1),Yt(!1),Ne(!1),re(!1),K(!1),zn(null),mt(null),st("IDLE"),St(null),Ft(null),yt(null),Ln([])},Cn=h=>{if(qt===h&&h!==null){if(h==="pixelate"&&nt!=="IDLE"){Zn(),Ut(null);return}return}Zn(),Ut(h)},yi=()=>{if(!_e.current||!S)return[];const h=[],_=S.width*.25,J=S.height*.3,Y=S.width*.35,G=S.height*.15;if(h.push({x:Math.round(Y),y:Math.round(G),width:Math.round(_),height:Math.round(J)}),S.width>S.height*1.5){const Oe=S.width*.2,Ce=S.height*.25,ze=S.width*.65,Ue=S.height*.2;h.push({x:Math.round(ze),y:Math.round(Ue),width:Math.round(Oe),height:Math.round(Ce)})}return h},Lo=()=>{Cn("pixelate"),st("PICK_TYPE"),St(null),yt(null),Ln([]),kr(50);const h=yi();h.length>0&&Ln(h)},$l=h=>{if(console.log("[PIXEL] choose",h,{pixelWizardStep:nt,detectedFacesCount:Sr.length,activeControl:qt}),h==="auto")if(Sr.length>0){const _=Sr.reduce((J,Y)=>Y.width*Y.height>J.width*J.height?Y:J);yt(_),St("AUTO"),st("DIAL"),console.log("[PIXEL] set to DIAL",{pixelWizardStep:"DIAL",currentPixelRegion:_,pixelSelectionSource:"AUTO"})}else console.warn("[PIXEL] No faces detected, cannot proceed with AUTO");else h==="manual"&&(St("MANUAL"),st("MANUAL_SELECT_TYPE"),Ft(null),Ln([]),console.log("[PIXEL] set to MANUAL_SELECT_TYPE",{pixelWizardStep:"MANUAL_SELECT_TYPE",pixelSelectionSource:"MANUAL"}))},gi=h=>{console.log("[PIXEL] manual selection type",h),h==="select"?(Ft("select"),st("MANUAL_SELECT"),mt("select"),!L&&Rn&&(Rn==="vertical"?I("vertical"):Rn==="square"?I("square"):Rn==="landscape"&&I("landscape")),L?Z(!0):z(!0),console.log("[PIXEL] set to MANUAL_SELECT with select tool",{pixelWizardStep:"MANUAL_SELECT",manualSelectionType:"select"})):h==="pointer"&&(Ft("pointer"),st("MANUAL_SELECT"),mt("pointer"),console.log("[PIXEL] set to MANUAL_SELECT with pointer tool",{pixelWizardStep:"MANUAL_SELECT",manualSelectionType:"pointer"}))},Gr=h=>{yt(h),st("DIAL"),mt(null),Z(!1),z(!1)},Er=async()=>{if(!(!Nt||!S)){Fe();try{const h=new Image;h.crossOrigin="anonymous",await new Promise((ze,Ue)=>{h.onload=ze,h.onerror=Ue,h.src=kt||o||""});const _=document.createElement("canvas"),J=_.getContext("2d");if(!J)return;_.width=S.width,_.height=S.height,J.drawImage(h,0,0,_.width,_.height);const Y=Math.max(2,Math.round(sn/100*20)),G=Nt,Ce=J.getImageData(G.x,G.y,G.width,G.height).data;for(let ze=0;ze<G.height;ze+=Y)for(let Ue=0;Ue<G.width;Ue+=Y){let Ve=0,Be=0,jt=0,ft=0;for(let mn=0;mn<Y&&ze+mn<G.height;mn++)for(let Zt=0;Zt<Y&&Ue+Zt<G.width;Zt++){const Ct=((ze+mn)*G.width+(Ue+Zt))*4;Ve+=Ce[Ct],Be+=Ce[Ct+1],jt+=Ce[Ct+2],ft++}ft>0&&(Ve=Math.round(Ve/ft),Be=Math.round(Be/ft),jt=Math.round(jt/ft),J.fillStyle=`rgb(${Ve}, ${Be}, ${jt})`,J.fillRect(G.x+Ue,G.y+ze,Y,Y))}_.toBlob(ze=>{if(!ze)return;const Ue=URL.createObjectURL(ze),Ve={...Nt,intensity:sn};an([...Yr,Ve]);const Be=oe.length+1,jt=D?D.replace(/\.[^/.]+$/,""):"imagen",ft=D?D.split(".").pop():"jpg",Zt={fileName:`${jt}_V${String(Be).padStart(3,"0")}.${ft}`,dimensions:S,fileSize:X,dimensionType:null,imageUrl:Ue},Ct=[...oe,Zt];ge(Ct),de(Ct.length-1),bt(Ue),st("ASK_MORE")},"image/png")}catch(h){console.error("Error al aplicar pixelado:",h),alert("Error al aplicar pixelado. Por favor, intntalo de nuevo.")}}},xi=h=>{if(h==="yes"){st("PICK_TYPE"),yt(null),St(null),Ft(null);const _=yi();_.length>0?Ln(_):Ln([])}else h==="no"&&(st("IDLE"),yt(null),St(null),Ft(null),Ln([]),mt(null))},Zr=()=>{jn.current&&clearTimeout(jn.current),jn.current=window.setTimeout(()=>{Ut(null)},2e3)};k.useEffect(()=>()=>{jn.current&&clearTimeout(jn.current)},[]),k.useEffect(()=>{o&&Ol.length===0&&(Dl([{pixelateValue:0,blurValue:0,cropValue:0,classicAdjustments:Ac,selectedDimension:null,dimensionPixels:800,showCropOverlay:!1,cropConfirmed:!1,selectionDimensions:null,selectedColorMode:"color",versions:[],currentVersionIndex:-1,removeMetadata:!1,watermarkMode:"NONE",watermarkEnabled:!1,watermarkVisible:!0,watermarkText:"",watermarkTransform:{x:50,y:50,rotation:0,scale:1},pixelatedAreas:[],pixelWizardStep:"IDLE",pixelSelectionSource:null,manualSelectionType:null,currentPixelRegion:null,pixelIntensity:50}]),br(0))},[o]);const[je,vi]=k.useState({width:0,height:0}),un=k.useRef(null),[Jr,wi]=k.useState("rgb(30, 30, 30)"),_e=k.useRef(null),ki=k.useRef(null),[Rn,el]=k.useState(null),cn=k.useRef(null),dn=k.useRef(null);k.useEffect(()=>{const h=kt||o;if(un.current&&h){const _=()=>{if(un.current){const J=un.current.offsetWidth,Y=un.current.offsetHeight;J>0&&Y>0&&vi({width:J,height:Y})}};return _(),requestAnimationFrame(_),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)}},[kt,o]),k.useEffect(()=>{const h=kt||o;_e.current&&h&&(_e.current.complete?(On(),fn()):_e.current.onload=()=>{On(),fn()})},[kt,o]);const fn=()=>{if(!_e.current)return;const h=_e.current.naturalWidth||_e.current.width,_=_e.current.naturalHeight||_e.current.height,J=h/_;q({width:h,height:_}),console.log("Dimensiones de imagen detectadas:",{width:h,height:_,ratio:J});let Y;J<.95?Y="vertical":J>1.05?Y="landscape":Y="square",el(Y);let G;Y==="vertical"?G=_:Y==="landscape"?G=h:G=Math.max(h,_);const Oe=Math.round(G/50)*50,Ce=Math.max(200,Math.min(2e3,Oe));console.log("Disposicin y pxeles establecidos:",{aspectRatio:Y,finalPixels:Ce}),M(Ce),Ie("color")},On=()=>{if(!_e.current)return;const h=document.createElement("canvas"),_=h.getContext("2d");if(!_)return;h.width=_e.current.width,h.height=_e.current.height,_.drawImage(_e.current,0,0,h.width,h.height);const Y=_.getImageData(0,0,h.width,h.height).data;let G=0,Oe=0,Ce=0;const ze=10;for(let Ve=0;Ve<Y.length;Ve+=4*ze)G+=Y[Ve],Oe+=Y[Ve+1],Ce+=Y[Ve+2];const Ue=Y.length/(4*ze);G=Math.floor(G/Ue),Oe=Math.floor(Oe/Ue),Ce=Math.floor(Ce/Ue),G=Math.floor(G*.3),Oe=Math.floor(Oe*.3),Ce=Math.floor(Ce*.3),wi(`rgb(${G}, ${Oe}, ${Ce})`)},jr=()=>{var h;(h=cn.current)==null||h.click()},Mn=()=>{var h;(h=dn.current)==null||h.click()},Ro=h=>{var J,Y;const _=(J=h.target.files)==null?void 0:J[0];if(_){ue(_);const G=((Y=_.name.split(".").pop())==null?void 0:Y.toLowerCase())||"";ne(G),ae(_.name),m(_.size),te(G==="jpg"||G==="jpeg"?"jpg":G==="png"?"png":G==="webp"?"webp":"jpg"),u(_)}},tl=h=>{if(h===0)return"0 B";const _=1024,J=["B","KB","MB","GB"],Y=Math.floor(Math.log(h)/Math.log(_));return Math.round(h/Math.pow(_,Y)*100)/100+" "+J[Y]},pn=()=>{if(!ie||!S||!X)return 0;const h=S.width*S.height,J=ie.width*ie.height/h;let Y=1;return b==="jpg"||b==="jpeg"?Y=.8:b==="png"?Y=1.2:b==="webp"?Y=.7:b==="pdf"&&(Y=1.5),Math.round(X*J*Y)},Si=h=>{if(!ie||!L)return;const _=50,J=S?Math.max(S.width,S.height):4e3,Y=Math.max(_,Math.min(J,h));let G=Y;if(L==="vertical"){const Ce=S?S.width/S.height:.75;Ce<1?G=Y/Ce:G=Y/.75}else L==="landscape"?G=Y/1.33:(L==="square"||L==="circular")&&(G=Y);const Oe={width:Math.round(Y),height:Math.round(G)};Re(Oe),Fe()},Ni=h=>{if(!ie||!S||!X)return;const _=pn()/1024;if(_<=0)return;const J=Math.sqrt(h/_),Y=Math.round(ie.width*J);Si(Y)},Cr=()=>{if(!D)return"";const h=D.substring(0,D.lastIndexOf("."))||D,_=Pe?`.${Pe}`:"";return`${h}_V001${_}`},Ei=async(h,_,J,Y,G,Oe,Ce=!0)=>new Promise((ze,Ue)=>{const Ve=document.createElement("canvas"),Be=Ve.getContext("2d");if(!Be){Ue(new Error("No se pudo obtener el contexto del canvas"));return}if(Ce)Ve.width=Y,Ve.height=G,Oe&&(Be.beginPath(),Be.arc(Y/2,G/2,Math.min(Y,G)/2,0,2*Math.PI),Be.clip()),Be.drawImage(h,_,J,Y,G,0,0,Y,G);else{const jt=h.naturalWidth||h.width,ft=h.naturalHeight||h.height;if(Ve.width=jt,Ve.height=ft,Be.drawImage(h,0,0,jt,ft),Be.fillStyle="#808080",Oe){Be.beginPath();const mn=_+Y/2,Zt=J+G/2,Ct=Math.min(Y,G)/2;Be.arc(mn,Zt,Ct,0,2*Math.PI),Be.fill()}else Be.fillRect(_,J,Y,G)}Ve.toBlob(jt=>{if(!jt){Ue(new Error("No se pudo crear el blob"));return}const ft=URL.createObjectURL(jt);ze(ft)},"image/png")}),Oo=()=>{!ie||!L||Yt(!0)},Mr=async()=>{Yt(!1),await Pr(!0)},Tr=async()=>{Yt(!1),await Pr(!1)},Jn=()=>{Yt(!1)},Pr=async h=>{if(!(!ie||!D||!_e.current||!un.current)){Fe();try{const _=_e.current,J=un.current,Y=_.naturalWidth||_.width,G=_.naturalHeight||_.height,Oe=ie.width,Ce=ie.height,ze=Math.max(0,Math.round((Y-Oe)/2)),Ue=Math.max(0,Math.round((G-Ce)/2)),Ve=Math.min(Oe,Y-ze),Be=Math.min(Ce,G-Ue),ft=await Ei(_,ze,Ue,Ve,Be,L==="circular",h),mn=h?ie:{width:Y,height:G},Zt=h?pn():X,Ct={fileName:Cr(),dimensions:mn,fileSize:Zt,dimensionType:h?L:null,imageUrl:ft},Ti=[...oe,Ct];ge(Ti);const Ao=Ti.length-1;de(Ao),$(Ct),bt(ft),$e(!0),Z(!1),console.log(`Cortar seleccin confirmada (${h?"INCLUDE":"EXCLUDE"})`)}catch(_){console.error("Error al recortar la imagen:",_),alert("Error al recortar la imagen. Por favor, intntalo de nuevo.")}}},Do=()=>{if(U>0){const h=U-1;de(h);const _=oe[h];$(_),bt(_.imageUrl),_.removeMetadata!==void 0&&Qn(_.removeMetadata),_.watermarkMode!==void 0&&xr(_.watermarkMode)}else U===0&&(de(-1),$(null),bt(o),$e(!1),Qn(!1),xr("NONE"),vr(!0),En(""),zl(null))},$o=()=>{if(U<oe.length-1){const h=U+1;de(h);const _=oe[h];$(_),bt(_.imageUrl),$e(!0),_.removeMetadata!==void 0&&Qn(_.removeMetadata),_.watermarkMode!==void 0&&xr(_.watermarkMode)}};k.useEffect(()=>{},[_t,gr,U]);const Al=oe.length>0&&U>=0,nl=oe.length>0&&U<oe.length-1,_r=(()=>{const h=Jr.match(/\d+/g);if(!h||h.length<3)return"white";const _=parseInt(h[0]),J=parseInt(h[1]),Y=parseInt(h[2]);return(.299*_+.587*J+.114*Y)/255<.5?"white":"orange"})(),hn=()=>U>=0&&oe[U]?oe[U]:Me&&Hn?Hn:null,lt=hn(),rl=()=>U>=0?U+1:null,Fl=()=>{const h=rl(),_=[];if(gr?_.push("Metadatos: Eliminados"):h&&_.push("Metadatos: Conservados"),_t==="AUTO"?_.push(`Marca de agua: automtica (${qn?"visible":"no visible"})`):_t==="CUSTOM_TEXT"?_.push(`Marca de agua: personalizada (texto${qn?", visible":""})`):_t==="CUSTOM_IMAGE"&&_.push(`Marca de agua: personalizada (imagen${qn?", visible":""})`),_.length>0)return h?`V${h}  ${_.join("  ")}`:_.join("  ");if(!lt||!h)return null;if(lt.preset)return`V${h}  Preset: ${{color:"Color",grayscale:"Grises",sepia:"Sepia",bw:"B&W"}[lt.preset]}`;if(lt.adjustment){const J={brightness:"Brillo",contrast:"Contraste",saturation:"Saturacin",sharpness:"Nitidez"},Y=lt.adjustment.value>50?"+":"",G=lt.adjustment.value-50;return`V${h}  Ajuste: ${J[lt.adjustment.type]} ${Y}${G}`}return null},ll=h=>{var J;const _=(J=h.target.files)==null?void 0:J[0];_&&c(_)},il=async()=>{const h=kt||o;if(!h){alert("No hay imagen para guardar");return}try{const J=await(await fetch(h)).blob(),Y=hn(),G=(Y==null?void 0:Y.fileName)||D||"imagen.jpg",Oe=new File([J],G,{type:J.type}),Ce=URL.createObjectURL(Oe),ze=document.createElement("a");ze.href=Ce,ze.download=G,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(Ce),console.log(`Imagen exportada al lbum ImageNrrobAART: ${G}`),alert(`Imagen guardada en lbum ImageNrrobAART: ${G}`)}catch(_){console.error("Error al guardar la imagen:",_),alert("Error al guardar la imagen. Por favor, intntalo de nuevo.")}},Ci=()=>{typeof window<"u"&&(window.location.href="/")},Et=()=>{Cn("dimension"),mt("select"),Z(!1),Re(null),$e(!1),I(null),At(null),yt(null),an([]),st("IDLE"),St(null),Ft(null),z(!0)};return o?s.jsxs("div",{className:"min-h-screen flex flex-col w-full",style:{backgroundColor:Jr,margin:0,padding:0,gap:0},children:[s.jsx("div",{className:"w-full h-[25px] min-h-[25px] bg-orange-500 flex items-center gap-3 px-4 flex-shrink-0",style:{borderRadius:0,marginTop:0,paddingTop:0},children:U>=0&&lt?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs font-medium text-white",children:lt.fileName}),s.jsx("span",{className:"text-xs font-medium text-white",children:lt.dimensionType==="circular"?`${Math.min(lt.dimensions.width,lt.dimensions.height)}`:`${lt.dimensions.width}${lt.dimensions.height}`}),s.jsxs("span",{className:"text-xs font-medium text-white",children:["~",tl(lt.fileSize)]}),_t!=="NONE"&&s.jsx("span",{className:"text-xs font-medium text-white ml-auto",children:"Marca de agua aplicada"})]}):s.jsxs(s.Fragment,{children:[D&&s.jsx("span",{className:"text-xs font-medium text-white",children:D}),S&&s.jsxs("span",{className:"text-xs font-medium text-white",children:[S.width,"",S.height]}),X>0&&s.jsx("span",{className:"text-xs font-medium text-white",children:tl(X)}),_t!=="NONE"&&s.jsx("span",{className:"text-xs font-medium text-white ml-auto",children:"Marca de agua aplicada"})]})}),s.jsx("div",{className:"w-full h-[25px] min-h-[25px] bg-white flex items-center gap-3 px-4 flex-shrink-0 overflow-hidden",style:{borderRadius:0,marginTop:0,paddingTop:0},children:nt==="DIAL"?s.jsx("div",{className:"relative w-full h-full flex items-center overflow-hidden",children:s.jsx("div",{className:"text-xs font-medium text-orange-500 whitespace-nowrap",style:{display:"inline-block",animation:"scroll-text 20s linear infinite",paddingRight:"50px"},children:(()=>{const h=`Intensidad de pixelado: ${sn}%`;return`${h}  ${h}  `})()})}):Fl()?s.jsx("div",{className:"relative w-full h-full flex items-center overflow-hidden",children:s.jsx("div",{className:"text-xs font-medium text-orange-500 whitespace-nowrap",style:{display:"inline-block",animation:"scroll-text 20s linear infinite",paddingRight:"50px"},children:(()=>{const h=Fl()||"";return`${h}  ${h}  `})()})}):R&&!Me?s.jsxs(s.Fragment,{children:[D&&s.jsxs("button",{onClick:h=>{h.stopPropagation(),K(!x)},className:"flex items-center gap-1 text-xs font-medium text-orange-500 hover:opacity-80 transition-opacity min-w-0 flex-shrink",children:[s.jsx("span",{className:"truncate max-w-[200px]",children:Cr()}),s.jsx(ca,{className:"w-3 h-3 flex-shrink-0"})]}),ie&&s.jsxs("button",{onClick:h=>{h.stopPropagation(),Ne(!Q),re(!1)},className:"flex items-center gap-1 text-xs font-medium text-orange-500 hover:opacity-80 transition-opacity",children:[s.jsx("span",{children:L==="circular"?`${Math.min(ie.width,ie.height)}`:`${ie.width}${ie.height}`}),s.jsx(ca,{className:"w-3 h-3 flex-shrink-0"})]}),ie&&X>0&&s.jsxs("button",{onClick:h=>{h.stopPropagation(),re(!xe),Ne(!1)},className:"flex items-center gap-1 text-xs font-medium text-orange-500 hover:opacity-80 transition-opacity",children:[s.jsxs("span",{children:["~",tl(pn())]}),s.jsx(ca,{className:"w-3 h-3 flex-shrink-0"})]})]}):s.jsx("div",{className:"relative w-full h-full flex items-center overflow-hidden",children:s.jsx("div",{className:"text-xs font-medium text-orange-500 whitespace-nowrap",style:{display:"inline-block",animation:"scroll-text 20s linear infinite",paddingRight:"50px"},children:(()=>{const h=nt==="MANUAL_SELECT"&&Qt==="pointer"?"":Qt==="select"?"Selecciona una forma de recorte":Qt==="pointer"?"Herramienta de seleccin: haz clic en los controles para ajustar valores":Qt==="undo"||It>0?`Deshace la ltima accin (${It} nivel${It>1?"es":""} disponible${It>1?"s":""})`:Me&&oe.length>0?"Usa las flechas sobre la imagen para navegar entre versiones":o?"Selecciona una herramienta del men para comenzar a editar":"Selecciona una imagen para comenzar";return`${h}  ${h}  `})()})})}),s.jsx("style",{children:`
        @keyframes scroll-text {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }
      `}),s.jsxs("div",{ref:un,className:"relative flex-1 overflow-hidden w-full preview-image-container",style:{width:"100%",margin:0,padding:0,marginTop:0,paddingTop:0,marginBottom:0,paddingBottom:0,borderRadius:0,backgroundColor:Me?"#808080":"transparent",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"auto",pointerEvents:"auto",position:"relative",zIndex:1},children:[s.jsx("div",{ref:ki,style:{width:"100%",height:"100%",position:"absolute",inset:0,pointerEvents:"auto",zIndex:1},children:s.jsx("img",{ref:_e,src:kt||o,alt:"Imagen seleccionada",className:Me?"preview-image-flat":"w-full h-full object-cover preview-image-flat",style:{width:Me?"auto":"100%",height:Me?"auto":"100%",maxWidth:Me?"100%":"none",maxHeight:Me?"100%":"none",objectFit:Me?"contain":"cover",display:"block",margin:0,padding:0,marginTop:0,paddingTop:0,pointerEvents:"none",userSelect:"none",WebkitUserSelect:"none"},onLoad:On,crossOrigin:"anonymous",draggable:!1})}),oe.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:Do,disabled:!Al,className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed transition-opacity hover:opacity-80",style:{zIndex:10,background:"transparent",border:"none",padding:0,margin:0},title:"Anterior",children:s.jsx(Tf,{className:`w-8 h-8 ${_r==="white"?"text-white":"text-orange-500"}`})}),s.jsx("button",{onClick:$o,disabled:!nl,className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed transition-opacity hover:opacity-80",style:{zIndex:10,background:"transparent",border:"none",padding:0,margin:0},title:"Siguiente",children:s.jsx(_f,{className:`w-8 h-8 ${_r==="white"?"text-white":"text-orange-500"}`})})]}),ve&&s.jsx(Bp,{onSelect:Io,onClose:()=>we(!1),selectedPreset:Ee}),Ge&&s.jsx(Hp,{onSelect:zo,onClose:()=>Ze(!1)}),yr&&s.jsx(Yp,{onInclude:Mr,onExclude:Tr,onCancel:Jn}),Hr&&s.jsx("div",{className:"absolute inset-0 z-30",children:s.jsx(Kp,{onComplete:Qr,onClose:()=>{Gn(!1),Ut(null)}})}),et&&s.jsx(No,{label:et==="brightness"?"Brillo":et==="contrast"?"Contraste":et==="saturation"?"Saturacin":"Nitidez",value:Yn,valueText:`${Yn} %`,min:0,max:100,step:1,onChange:h=>{const _=Math.max(0,Math.min(100,h));bn(Math.round(_))},onCommit:h=>{Kr()},isVisible:!0,onClose:qr}),(()=>{var J,Y,G,Oe,Ce,ze,Ue,Ve;const h=nt==="DIAL"&&Nt,_=nt==="PICK_TYPE"&&Sr.length>0&&Kt===null;return h?s.jsx(Vc,{areas:[Nt],containerWidth:je.width,containerHeight:je.height,imageWidth:((J=_e.current)==null?void 0:J.naturalWidth)||((Y=_e.current)==null?void 0:Y.width)||0,imageHeight:((G=_e.current)==null?void 0:G.naturalHeight)||((Oe=_e.current)==null?void 0:Oe.height)||0}):_?s.jsx(Vc,{areas:Sr,containerWidth:je.width,containerHeight:je.height,imageWidth:((Ce=_e.current)==null?void 0:Ce.naturalWidth)||((ze=_e.current)==null?void 0:ze.width)||0,imageHeight:((Ue=_e.current)==null?void 0:Ue.naturalHeight)||((Ve=_e.current)==null?void 0:Ve.height)||0}):null})(),qt==="pixelate"&&s.jsxs("div",{className:"absolute top-2 left-2 z-50 text-white text-xs font-mono bg-black/50 px-2 py-1 rounded",style:{pointerEvents:"none"},children:["PIXEL_STEP: ",nt," | SOURCE: ",Kt||"null"," | REGION: ",Nt?"YES":"NO"]}),nt==="PICK_TYPE"&&s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Tipo de seleccin",mode:"text",options:[{id:"auto",label:"Automtica"},{id:"manual",label:"Manual"}],selectedId:Kt==="AUTO"?"auto":Kt==="MANUAL"?"manual":null,onSelect:$l,color:"white"})})}),nt==="MANUAL_SELECT_TYPE"&&s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Modo de seleccin manual",mode:"text",options:[{id:"select",label:"Seleccin"},{id:"pointer",label:"Libre"}],selectedId:on==="select"?"select":on==="pointer"?"pointer":null,onSelect:gi,color:"white"})})}),nt==="MANUAL_SELECT"&&Qt==="pointer"&&on==="pointer"&&s.jsx(Gp,{containerWidth:je.width,containerHeight:je.height,imageWidth:((Dn=_e.current)==null?void 0:Dn.naturalWidth)||((ol=_e.current)==null?void 0:ol.width)||0,imageHeight:((er=_e.current)==null?void 0:er.naturalHeight)||((Mi=_e.current)==null?void 0:Mi.height)||0,onSelectionComplete:Gr,onCancel:()=>{st("IDLE"),mt(null),St(null),Ft(null),yt(null)}}),nt==="MANUAL_SELECT"&&on==="select"&&R&&ie&&s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Confirmacin",mode:"text",options:[{id:"confirm",label:"Confirmar"},{id:"cancel",label:"Cancelar"}],onSelect:h=>{if(h==="confirm"){if(_e.current&&ie&&je.width>0&&je.height>0){const _=_e.current.naturalWidth||_e.current.width,J=_e.current.naturalHeight||_e.current.height,Y=ie.width,G=ie.height,Oe=Math.max(0,Math.round((_-Y)/2)),Ce=Math.max(0,Math.round((J-G)/2));Gr({x:Oe,y:Ce,width:Y,height:G})}}else h==="cancel"&&(st("IDLE"),mt(null),St(null),Ft(null),yt(null),Z(!1),z(!1))},color:"white"})})}),(()=>{const h=nt==="DIAL";return console.log("[PIXEL] dial render check",{pixelWizardStep:nt,shouldShowDial:h,currentPixelRegion:Nt,pixelSelectionSource:Kt,activeControl:qt}),h?s.jsx(No,{label:"Intensidad de pixelado",value:sn,valueText:`${sn}%`,min:0,max:100,step:1,onChange:_=>{const J=Math.max(0,Math.min(100,_));kr(Math.round(J))},onCommit:_=>{Er()},isVisible:!0,onClose:()=>{st("IDLE"),yt(null),St(null),Ft(null)}}):null})(),nt==="ASK_MORE"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:()=>{xi("no")}}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Desea pixelar otra rea?",mode:"text",options:[{id:"yes",label:"S"},{id:"no",label:"No"}],onSelect:xi,color:"white"})})})]}),ee&&!R&&(()=>{const h=()=>s.jsx("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("rect",{x:"8",y:"2",width:"8",height:"20",rx:"1"})}),_=()=>s.jsx("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})}),J=()=>s.jsx("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("rect",{x:"2",y:"8",width:"20",height:"8",rx:"1"})}),Y=()=>s.jsx("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"1"})}),G=()=>s.jsx("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("circle",{cx:"12",cy:"12",r:"8"})}),Oe=[{id:"9:16",icon:s.jsx(h,{}),label:"9:16"},{id:"1:1",icon:s.jsx(_,{}),label:"1:1"},{id:"16:9",icon:s.jsx(J,{}),label:"16:9"},{id:"4:3",icon:s.jsx(Y,{}),label:"4:3"},{id:"circular",icon:s.jsx(G,{}),label:"Circular"}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",style:{pointerEvents:"none"}}),s.jsx("div",{className:"absolute z-30",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)",pointerEvents:"auto"},onClick:Ce=>Ce.stopPropagation(),children:s.jsx(Pt,{children:s.jsx(Ht,{title:"",mode:"icon",options:Oe,selectedId:null,onSelect:Ce=>{if(z(!1),Ce==="9:16")I("vertical"),Z(!0),At(null);else if(Ce==="1:1")I("square"),Z(!0),At(null);else if(Ce==="16:9")I("landscape"),Z(!0),At(null);else if(Ce==="4:3")I("landscape"),Z(!0),At(null);else if(Ce==="circular"&&(I("circular"),Z(!1),je.width>0&&je.height>0)){const ze=je.width/2,Ue=je.height/2,Ve=Math.min(je.width,je.height)*.3,Be=Ve*2;At({x:ze-Ve,y:Ue-Ve,width:Be,height:Be})}},color:_r==="white"?"white":"orange",align:"space-between"})})})]})})(),Q&&R&&!Me&&ie&&L!=="circular"&&s.jsx(No,{label:"Ancho",value:ie.width,valueText:`${ie.width} px`,min:50,max:S?Math.max(S.width,S.height):4e3,step:1,onChange:h=>{Si(h)},isVisible:!0,onClose:()=>Ne(!1)}),xe&&R&&!Me&&ie&&X>0&&s.jsx(No,{label:"Tamao",value:Math.round(pn()/1024),valueText:`${Math.round(pn()/1024)} KB`,min:10,max:1e4,step:10,onChange:h=>{Ni(h)},isVisible:!0,onClose:()=>re(!1)}),x&&R&&!Me&&(()=>{const h=[{id:"jpg",label:".JPG"},{id:"png",label:".PNG"},{id:"pdf",label:".PDF"},{id:"webp",label:".WEBP"}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-10",onClick:()=>K(!1)}),s.jsx("div",{className:"absolute z-20",style:{bottom:"33px",left:"50%",transform:"translateX(-50%)",width:"calc(100% - 32px)"},children:s.jsx(Pt,{children:s.jsx(Ht,{title:"Formato de archivo",mode:"icon",options:h,selectedId:b,onSelect:_=>{te(_),ne(_),K(!1)},color:_r==="white"?"white":"orange"})})})]})})(),R&&!Me&&L&&L!=="circular"&&s.jsx(Up,{dimension:L,containerWidth:je.width,containerHeight:je.height,imageWidth:((sl=_e.current)==null?void 0:sl.naturalWidth)||((al=_e.current)==null?void 0:al.width),imageHeight:((tr=_e.current)==null?void 0:tr.naturalHeight)||((Ir=_e.current)==null?void 0:Ir.height),onSelectionChange:Re,externalDimensions:ie,containerRef:un}),L==="circular"&&Qe&&je.width>0&&je.height>0&&s.jsx(Zp,{shape:{kind:"circle",center:{x:Qe.x+Qe.width/2,y:Qe.y+Qe.height/2},radius:Math.min(Qe.width,Qe.height)/2},containerWidth:je.width,containerHeight:je.height,opacity:.55})]}),s.jsx(Vp,{selectedTool:Qt,onToolChange:h=>mt(h),selectedDimension:L,imageAspectRatio:Rn,onSelectToolClick:Et,onCropClick:Oo,canUndo:It>0,historyCount:It,onUndo:()=>{To(),mt(null)},hasChanges:It>0,onSave:il,onHome:Ci,onColorPresetsClick:Vt,onAdjustmentsClick:_o,isColorPresetsActive:ve,isAdjustmentsActive:Ge,isManualPixelSelect:nt==="MANUAL_SELECT"}),s.jsx("div",{className:"overflow-y-auto flex-shrink-0 w-full",style:{margin:0,padding:0,marginTop:0,paddingTop:0},children:s.jsxs("div",{className:"space-y-[5.33px] mt-2 px-4 mb-4",children:[s.jsx("button",{onClick:Lo,className:`
              relative w-full px-3 rounded-sm transition-all duration-300
              h-[30px] flex items-center justify-center
              ${qt==="pixelate"?"border-2 border-orange-500 bg-[#1C1C1E]":"border-[1px] border-border bg-[#1C1C1E] hover:bg-[#2C2C2E] active:bg-[#2C2C2E]"}
              select-none touch-none
            `,children:s.jsxs("span",{className:`text-xs font-medium ${qt==="pixelate"?"text-orange-500":"text-white"}`,children:["Pixelar rostro ",Yr.length>0&&`(${Yr.length})`]})}),s.jsx($c,{label:"Blur selectivo",value:w,onChange:h=>{w!==h&&(Fe(),P(h)),Zr()},active:qt==="blur",onActivate:()=>Ut("blur")}),s.jsx($c,{label:"Intensidad de crop",value:C,onChange:h=>{C!==h&&(Fe(),j(h)),Zr()},active:qt==="crop",onActivate:()=>Ut("crop")}),s.jsx(bp,{label:"Eliminar metadatos",checked:gr,onChange:mi}),s.jsx("button",{onClick:()=>{Hr?(Gn(!1),Ut(null)):(Cn("watermark"),Gn(!0))},className:`
              relative w-full px-3 rounded-sm transition-all duration-300
              h-[30px] flex items-center justify-center
              ${_t!=="NONE"&&Kn?"border-2 border-orange-500 bg-[#1C1C1E]":"border-[1px] border-border bg-[#1C1C1E] hover:bg-[#2C2C2E] active:bg-[#2C2C2E]"}
              ${Hr?"ring-2 ring-orange-500/20":""}
              select-none touch-none
            `,children:s.jsxs("span",{className:`text-xs font-medium ${_t!=="NONE"&&Kn?"text-orange-500":"text-white"}`,children:["Marca de agua ",_t!=="NONE"&&Kn&&""]})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[s.jsxs("div",{className:"pt-8 pb-4 px-6 text-center",children:[s.jsxs("h1",{className:"text-white text-2xl font-light mb-2 tracking-wide",children:["Imagen",s.jsx("span",{className:"font-normal",children:"@"}),"rte"]}),s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Tratamiento y proteccin de imgenes"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Versin MVP  Offline-first  Sin backend"})]}),s.jsx("div",{className:"flex-1 bg-neutral-900 flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("button",{onClick:jr,className:"flex items-center gap-3 px-6 py-3 text-gray-400 hover:text-gray-200 transition-colors",children:[s.jsx(Vf,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Seleccionar imagen"})]}),s.jsxs("button",{onClick:Mn,className:"flex items-center gap-3 px-6 py-3 text-gray-400 hover:text-gray-200 transition-colors",children:[s.jsx(mp,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:"Seleccionar video"})]})]})}),s.jsxs("div",{className:"pb-4",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:[s.jsxs("div",{className:"flex justify-center items-center gap-7 mb-2",children:[s.jsxs("button",{onClick:()=>Nr("settings"),className:"flex items-center gap-2 bg-transparent border-none cursor-pointer text-gray-400 hover:text-gray-200 transition-colors",style:{opacity:.75},children:[s.jsx(np,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs font-medium",style:{fontSize:"12px"},children:"Ajustes"})]}),s.jsxs("button",{onClick:()=>Nr("help"),className:"flex items-center gap-2 bg-transparent border-none cursor-pointer text-gray-400 hover:text-gray-200 transition-colors",style:{opacity:.75},children:[s.jsx("span",{style:{fontSize:"20px"},children:""}),s.jsx("span",{className:"text-xs font-medium",style:{fontSize:"12px"},children:"Ayuda"})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-500 text-xs mb-1",style:{fontSize:"10px",opacity:.45},children:" 2026 Imagen@rte  Todos los derechos reservados"}),s.jsx("p",{className:"text-gray-500 text-xs",style:{fontSize:"10px",opacity:.45},children:"Tratamiento local  Sin backend  Sin tracking"})]})]}),s.jsx("input",{ref:cn,type:"file",accept:"image/*",onChange:Ro,className:"hidden"}),s.jsx("input",{ref:dn,type:"file",accept:"video/*",onChange:ll,className:"hidden"})]}),Rl==="settings"&&s.jsx(Mo,{onClose:()=>Nr(null)}),Rl==="help"&&s.jsx(fi,{onClose:()=>Nr(null)})]})}function jo(o,u,c){return Math.max(u,Math.min(c,o))}function fa(o){return(o%360+360)%360}function eh(o,u,c){if(!u)return fa(o);const d=fa(o),p=Math.round(d/u)*u,v=fa(p);if(c){let w=Math.abs(d-v);if(w>180&&(w=360-w),w<=c)return v}return d}function Gc(o,u,c){return c?{x:jo(o,c.minX,c.maxX),y:jo(u,c.minY,c.maxY)}:{x:o,y:u}}function th(o,u,c){let d=o,p=u;return c.minSize&&(d=Math.max(d,c.minSize.width??0),p=Math.max(p,c.minSize.height??0)),c.maxSize&&(d=Math.min(d,c.maxSize.width??1/0),p=Math.min(p,c.maxSize.height??1/0)),{width:d,height:p}}function nh(o,u){var d,p;let c=o;return((d=u.minSize)==null?void 0:d.radius)!==void 0&&(c=Math.max(c,u.minSize.radius)),((p=u.maxSize)==null?void 0:p.radius)!==void 0&&(c=Math.min(c,u.maxSize.radius)),c}function dt(o,u,c,d,p,v,w,P){return u==="circle"?rh(o,c,d,p,v,w,P):lh(o,c,d,p,v,w,P)}function rh(o,u,c,d,p,v,w){switch(u){case"move":{const P=o.cx+c.dx,C=o.cy+c.dy,j=Gc(P,C,d==null?void 0:d.bounds);return{...o,cx:j.x,cy:j.y}}case"radius":{if(!p||!v||!w)return o;const P=p.cx,C=p.cy,j=w.x-P,O=w.y-C,B=Math.hypot(j,O);{const W=(j>=0?"R":"L")+(O>=0?"D":"U");console.log("[transformEngine] radius calculation",{localX:w.x,localY:w.y,cx:P,cy:C,dx:j,dy:O,dist:B,quadrant:W,radiusPrev:o.r})}let L=B;if(L=nh(L,d||{}),d!=null&&d.bounds){const W=Math.min(P-d.bounds.minX,d.bounds.maxX-P),M=Math.min(C-d.bounds.minY,d.bounds.maxY-C);L=Math.min(L,W,M)}const I=Math.max(0,L);return console.log("[transformEngine] radius result",{radiusNext:I,delta:I-o.r}),{...p,r:I}}default:return o}}function lh(o,u,c,d,p,v,w){switch(u){case"move":{const P=o.cx+c.dx,C=o.cy+c.dy,j=Gc(P,C,d==null?void 0:d.bounds);return{...o,cx:j.x,cy:j.y}}case"rotate":{if(!p||!v||!w)return o;const P=o.cx,C=o.cy,j=Math.atan2(w.y-C,w.x-P)*(180/Math.PI),O=Math.atan2(v.y-C,v.x-P)*(180/Math.PI);let B=j-O;B>180&&(B-=360),B<-180&&(B+=360);let L=p.rotation+B;return L=eh(L,d==null?void 0:d.snapRotation,d==null?void 0:d.snapRotationThreshold),L=(L%360+360)%360,L>359.5?L=360:L<.5&&L>-.5&&(L=0),{...o,rotation:L}}case"n":case"s":case"e":case"w":case"ne":case"nw":case"se":case"sw":{if(!p)return o;p.w/2,p.h/2;let P=p.w,C=p.h,j=p.cx,O=p.cy;if((u==="n"||u==="ne"||u==="nw")&&(C=p.h-c.dy,O=p.cy+c.dy/2),(u==="s"||u==="se"||u==="sw")&&(C=p.h+c.dy,O=p.cy+c.dy/2),(u==="e"||u==="ne"||u==="se")&&(P=p.w+c.dx,j=p.cx+c.dx/2),(u==="w"||u==="nw"||u==="sw")&&(P=p.w-c.dx,j=p.cx+c.dx/2),d!=null&&d.lockAspect&&(d!=null&&d.aspectRatio)){const L=d.aspectRatio,I=P/C;if(Math.abs(I-L)>.01){if(u==="n"||u==="s")P=C*L;else if(u==="e"||u==="w")C=P/L;else{const R=(P+C)/2;P=R*Math.sqrt(L),C=R/Math.sqrt(L)}j=p.cx,O=p.cy;const W=C-p.h,M=P-p.w;(u==="n"||u==="ne"||u==="nw")&&(O=p.cy-W/2),(u==="s"||u==="se"||u==="sw")&&(O=p.cy+W/2),(u==="e"||u==="ne"||u==="se")&&(j=p.cx+M/2),(u==="w"||u==="nw"||u==="sw")&&(j=p.cx-M/2)}}const B=th(P,C,d||{});if(P=B.width,C=B.height,d!=null&&d.bounds){const L=d.bounds.minX+P/2,I=d.bounds.maxX-P/2,W=d.bounds.minY+C/2,M=d.bounds.maxY-C/2;j=jo(j,L,I),O=jo(O,W,M)}return{...o,cx:j,cy:O,w:P,h:C}}default:return o}}function Sn(o){return{x:o.cx-o.w/2,y:o.cy-o.h/2,width:o.w,height:o.h,rotation:o.rotation}}function Nn(o,u,c,d,p=0){return{cx:o+c/2,cy:u+d/2,w:c,h:d,rotation:p}}function Pl(o){return{x:o.cx-o.r,y:o.cy-o.r,width:o.r*2,height:o.r*2}}function _l(o,u,c,d){const p=Math.min(c,d)/2;return{cx:o+c/2,cy:u+d/2,r:p}}function Xc({shape:o,shapeType:u,onShapeChange:c,constraints:d,onTransformStart:p,onTransformEnd:v,handleThreshold:w=8,circleEdgeThreshold:P=12,containerRef:C,containerSelector:j=".preview-image-container"}){const[O,B]=k.useState(null),[L,I]=k.useState(!1),W=k.useRef(null),M=k.useRef(null),R=k.useRef(null),Z=k.useRef(null),ee=k.useRef(null),z=k.useRef(1),x=k.useCallback(pe=>{if(u==="circle")return _l(pe.x,pe.y,pe.width,pe.height);{const ue=pe;return Nn(ue.x,ue.y,ue.width,ue.height,ue.rotation||0)}},[u]),K=k.useCallback(pe=>{if(u==="circle"){const ue=Pl(pe);return{x:ue.x,y:ue.y,width:ue.width,height:ue.height}}else{const ue=Sn(pe);return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,rotation:ue.rotation}}},[u]),Q=k.useCallback((pe,ue,Pe,ne)=>{if(u==="circle"){const D=ne,ae=Pe.left+Pe.width/2,X=Pe.top+Pe.height/2,m=Math.sqrt((pe-ae)**2+(ue-X)**2),S=D.r;return Math.abs(m-S)<P?"radius":"move"}else{const D=Pe.left,ae=Pe.top,X=Pe.width,m=Pe.height,S=pe-D,q=ue-ae,he=w*2;return S<he&&q<he?"nw":S>X-he&&q<he?"ne":S<he&&q>m-he?"sw":S>X-he&&q>m-he?"se":q<w?"n":q>m-w?"s":S<w?"w":S>X-w?"e":"move"}},[u,w,P]),Ne=k.useCallback(()=>{if(C!=null&&C.current)return C.current;if(ee.current)return ee.current;const pe=document.querySelector(j);return pe?(ee.current=pe,pe):null},[C,j]),xe=k.useCallback((pe,ue,Pe)=>{pe.stopPropagation(),ue&&(Z.current=ue);const ne=ue==null?void 0:ue.getBoundingClientRect();if(!ne)return;const D=Ne();if(!D){console.warn("useTransformGestures: No se encontr contenedor");return}const ae=Tp(D);z.current=ae;const X=x(o);let m=null;if(Pe)m=Pe;else{let q=pe.target,he=0;for(;q&&he<2;){const ye=q.dataset.handle;if(ye&&(ye==="move"||ye==="rotate"||ye==="nw"||ye==="ne"||ye==="sw"||ye==="se"||ye==="n"||ye==="s"||ye==="e"||ye==="w"||ye==="radius"||ye==="rot")){m=ye,ye==="rot"&&(m="rotate");break}q=q.parentElement,he++}m||(m=Q(pe.clientX,pe.clientY,ne,X))}if(!m)return;B(m),I(!0),W.current=X;const S=Eo(pe,D);if(R.current=S,m==="rotate"&&u==="rect"){const q=X;M.current={x:q.cx,y:q.cy},R.current={x:q.cx,y:q.cy}}else if(m==="radius"&&u==="circle"){const q=X;M.current={x:q.cx,y:q.cy},R.current={x:q.cx,y:q.cy}}else M.current={x:pe.clientX,y:pe.clientY},R.current=S;p==null||p();try{pe.currentTarget.setPointerCapture(pe.pointerId)}catch(q){console.warn("setPointerCapture failed:",q)}},[o,u,x,Q,p,Ne]),re=k.useCallback(pe=>{if(!L||!O||!W.current||!R.current)return;const ue=Ne();if(!ue)return;const Pe=z.current,ne=Eo(pe,ue);if(O==="rotate"&&u==="rect"){const m=W.current,S={x:m.cx,y:m.cy},q=dt(W.current,u,O,{dx:0,dy:0},d,W.current,S,ne);c(K(q));return}if(O==="radius"&&u==="circle"){const m=W.current,S={x:m.cx,y:m.cy};{const he=ne.x-S.x,ye=ne.y-S.y,ie=Math.hypot(he,ye),Re=(he>=0?"R":"L")+(ye>=0?"D":"U");console.log("[useTransformGestures] radius pointerMove",{localX:ne.x,localY:ne.y,cx:S.x,cy:S.y,dx:he,dy:ye,dist:ie,quadrant:Re,radiusPrev:m.r})}const q=dt(W.current,u,O,{dx:0,dy:0},d,W.current,S,ne);{const he=q,ye=ne.x-S.x,ie=ne.y-S.y,Re=Math.hypot(ye,ie),Me=(ye>=0?"R":"L")+(ie>=0?"D":"U");console.log("[useTransformGestures] radius result",{localX:ne.x,localY:ne.y,cx:S.x,cy:S.y,dx:ye,dy:ie,dist:Re,quadrant:Me,radiusPrev:m.r,radiusNext:he.r,delta:he.r-m.r})}c(K(q));return}const D=Pp(R.current,ne,Pe);let ae=d;if(u==="rect"&&W.current){const m=W.current,S=O==="nw"||O==="ne"||O==="sw"||O==="se",q=O==="n"||O==="s"||O==="e"||O==="w";if(S){const he=m.w/m.h;ae={...d,lockAspect:!0,aspectRatio:he}}else q?(ae={...d,lockAspect:!1},console.debug("[useTransformGestures] Edge resize:",{handle:O,delta:D,startSize:{w:m.w,h:m.h},startCenter:{cx:m.cx,cy:m.cy}})):ae=d}const X=dt(W.current,u,O,D,ae,W.current,R.current,ne);c(K(X))},[L,O,u,d,K,c,Ne]),b=k.useCallback(pe=>{if(L){if(pe&&Z.current)try{Z.current.releasePointerCapture(pe.pointerId)}catch{}B(null),I(!1),W.current=null,M.current=null,R.current=null,Z.current=null,z.current=1,v==null||v()}},[L,v]);k.useEffect(()=>{if(!L)return;const pe=ne=>{re(ne)},ue=ne=>{b(ne)},Pe=ne=>{b(ne)};return window.addEventListener("pointermove",pe),window.addEventListener("pointerup",ue),window.addEventListener("pointercancel",Pe),()=>{window.removeEventListener("pointermove",pe),window.removeEventListener("pointerup",ue),window.removeEventListener("pointercancel",Pe)}},[L,re,b]);const te={onPointerDown:xe},Ee=k.useCallback((pe,ue,Pe)=>{xe(pe,Pe,ue)},[xe]),Ie=L&&W.current?u==="circle"?{x:W.current.cx,y:W.current.cy,w:W.current.r*2,h:W.current.r*2,rot:0,scale:z.current}:{x:W.current.cx-W.current.w/2,y:W.current.cy-W.current.h/2,w:W.current.w,h:W.current.h,rot:W.current.rotation,scale:z.current}:null;return{bind:te,startTransform:Ee,activeHandle:O,isTransforming:L,debugState:Ie,constraints:d}}function ih(){const o=k.useRef(null),[u,c]=k.useState({x:150,y:150,width:200,height:150,rotation:0}),[d,p]=k.useState({x:400,y:200,width:150,height:150}),v=Xc({shape:u,shapeType:"rect",onShapeChange:z=>c(z),constraints:{bounds:{minX:0,minY:0,maxX:800,maxY:600},minSize:{width:50,height:50},lockAspect:!1},containerRef:o,onTransformStart:()=>{console.debug("[Transform] Rect: transform start")},onTransformEnd:()=>{console.debug("[Transform] Rect: transform end",u)}}),w=Xc({shape:d,shapeType:"circle",onShapeChange:z=>p(z),constraints:{bounds:{minX:0,minY:0,maxX:800,maxY:600},minSize:{radius:25}},containerRef:o,onTransformStart:()=>{console.debug("[Transform] Circle: transform start")},onTransformEnd:()=>{console.debug("[Transform] Circle: transform end",d)}}),C=(()=>{var z,x;return v.isTransforming?{handle:v.activeHandle,x:u.x,y:u.y,w:u.width,h:u.height,rot:u.rotation||0,scale:((z=v.debugState)==null?void 0:z.scale)||1}:w.isTransforming?{handle:w.activeHandle,x:d.x,y:d.y,w:d.width,h:d.height,rot:0,scale:((x=w.debugState)==null?void 0:x.scale)||1}:null})(),[j,O]=k.useState(null),[B,L]=k.useState(null),[I,W]=k.useState(!1),[M,R]=k.useState(!1),[Z,ee]=k.useState(null);return k.useEffect(()=>{const z=x=>{if(x.target instanceof HTMLInputElement||x.target instanceof HTMLTextAreaElement)return;const K=x.key==="Tab",Q=K?15:1,Ne=K?15:1;if(v.isTransforming||w.isTransforming){const re=(v.isTransforming?v:w).activeHandle;if(re==="move"){if(x.key==="ArrowLeft"||K&&x.shiftKey){if(x.preventDefault(),v.isTransforming){const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect","move",{dx:-Q,dy:0},v.constraints),Ee=Sn(te);c({...Ee,rotation:te.rotation})}else if(w.isTransforming){const b=_l(d.x,d.y,d.width,d.height),te=dt(b,"circle","move",{dx:-Q,dy:0},w.constraints),Ee=Pl(te);p(Ee)}}else if(x.key==="ArrowRight"||K&&!x.shiftKey){if(x.preventDefault(),v.isTransforming){const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect","move",{dx:Q,dy:0},v.constraints),Ee=Sn(te);c({...Ee,rotation:te.rotation})}else if(w.isTransforming){const b=_l(d.x,d.y,d.width,d.height),te=dt(b,"circle","move",{dx:Q,dy:0},w.constraints),Ee=Pl(te);p(Ee)}}else if(x.key==="ArrowUp"){if(x.preventDefault(),v.isTransforming){const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect","move",{dx:0,dy:-Q},v.constraints),Ee=Sn(te);c({...Ee,rotation:te.rotation})}else if(w.isTransforming){const b=_l(d.x,d.y,d.width,d.height),te=dt(b,"circle","move",{dx:0,dy:-Q},w.constraints),Ee=Pl(te);p(Ee)}}else if(x.key==="ArrowDown"||K&&!x.shiftKey&&x.altKey){if(x.preventDefault(),v.isTransforming){const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect","move",{dx:0,dy:Q},v.constraints),Ee=Sn(te);c({...Ee,rotation:te.rotation})}else if(w.isTransforming){const b=_l(d.x,d.y,d.width,d.height),te=dt(b,"circle","move",{dx:0,dy:Q},w.constraints),Ee=Pl(te);p(Ee)}}}else if(re&&re!=="move"&&re!=="rotate"&&re!=="radius"&&v.isTransforming&&re){if(x.key==="ArrowLeft"||K&&x.shiftKey){x.preventDefault();const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect",re,{dx:-Q,dy:0},v.constraints,b),Ee=Sn(te);c({...Ee,rotation:te.rotation})}else if(x.key==="ArrowRight"||K&&!x.shiftKey){x.preventDefault();const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect",re,{dx:Q,dy:0},v.constraints,b),Ee=Sn(te);c({...Ee,rotation:te.rotation})}else if(x.key==="ArrowUp"){x.preventDefault();const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect",re,{dx:0,dy:-Q},v.constraints,b),Ee=Sn(te);c({...Ee,rotation:te.rotation})}else if(x.key==="ArrowDown"){x.preventDefault();const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect",re,{dx:0,dy:Q},v.constraints,b),Ee=Sn(te);c({...Ee,rotation:te.rotation})}}return}if(j==="rect"){if(M&&Z){if(x.key==="ArrowLeft"||x.key==="ArrowRight"||x.key==="ArrowUp"||x.key==="ArrowDown"||x.key==="Tab"){x.preventDefault();let xe=0,re=0;x.key==="ArrowLeft"||x.key==="Tab"&&x.shiftKey?xe=-Q:x.key==="ArrowRight"||x.key==="Tab"&&!x.shiftKey?xe=Q:x.key==="ArrowUp"?re=-Q:x.key==="ArrowDown"&&(re=Q);const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect",Z,{dx:xe,dy:re},v.constraints,b),Ee=Sn(te);c({...Ee,rotation:te.rotation})}}else if(B){if(B==="rotate"){if(x.key==="ArrowLeft"||x.key==="ArrowRight"||x.key==="ArrowUp"||x.key==="ArrowDown"||x.key==="Tab"){x.preventDefault();let xe=0;x.key==="ArrowLeft"||x.key==="ArrowUp"?xe=-Ne:x.key==="ArrowRight"||x.key==="ArrowDown"?xe=Ne:x.key==="Tab"&&(xe=x.shiftKey?-Ne:Ne);let b=(u.rotation||0)+xe;for(;b<0;)b+=360;for(;b>=360;)b-=360;c({...u,rotation:b})}}else if(B==="move"&&(x.key==="ArrowLeft"||x.key==="ArrowRight"||x.key==="ArrowUp"||x.key==="ArrowDown"||x.key==="Tab")){x.preventDefault();let xe=0,re=0;x.key==="ArrowLeft"||x.key==="Tab"&&x.shiftKey?xe=-Q:x.key==="ArrowRight"||x.key==="Tab"&&!x.shiftKey?xe=Q:x.key==="ArrowUp"?re=-Q:x.key==="ArrowDown"&&(re=Q);const b=Nn(u.x,u.y,u.width,u.height,u.rotation||0),te=dt(b,"rect","move",{dx:xe,dy:re},v.constraints),Ee=Sn(te);c({...Ee,rotation:te.rotation})}}}else if(j==="circle"){if(I){if(x.key==="ArrowLeft"||x.key==="ArrowRight"||x.key==="ArrowUp"||x.key==="ArrowDown"||x.key==="Tab"){x.preventDefault();let xe=0;x.key==="ArrowLeft"||x.key==="ArrowUp"||x.key==="Tab"&&x.shiftKey?xe=-Q:(x.key==="ArrowRight"||x.key==="ArrowDown"||x.key==="Tab"&&!x.shiftKey)&&(xe=Q);const re=Math.min(d.width,d.height)/2,te=Math.max(25,re+xe)*2;p({...d,width:te,height:te})}}else if(x.key==="ArrowLeft"||x.key==="ArrowRight"||x.key==="ArrowUp"||x.key==="ArrowDown"||x.key==="Tab"){x.preventDefault();let xe=0,re=0;x.key==="ArrowLeft"||x.key==="Tab"&&x.shiftKey?xe=-Q:x.key==="ArrowRight"||x.key==="Tab"&&!x.shiftKey?xe=Q:x.key==="ArrowUp"?re=-Q:x.key==="ArrowDown"&&(re=Q);const b=_l(d.x,d.y,d.width,d.height),te=dt(b,"circle","move",{dx:xe,dy:re},w.constraints),Ee=Pl(te);p(Ee)}}};return window.addEventListener("keydown",z),()=>{window.removeEventListener("keydown",z)}},[u,d,v.isTransforming,w.isTransforming,v.activeHandle,w.activeHandle,v.constraints,w.constraints,j,B,I,M,Z]),s.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:[C&&s.jsxs("div",{className:"absolute top-4 left-4 z-50 bg-black/80 text-white text-xs font-mono p-3 rounded pointer-events-none select-none",style:{zIndex:9999,userSelect:"none"},children:[s.jsx("div",{className:"font-bold mb-1",children:"Debug Transform"}),s.jsxs("div",{children:["Handle: ",s.jsx("span",{className:"text-orange-500",children:C.handle||"none"})]}),s.jsxs("div",{children:["x: ",C.x.toFixed(1)]}),s.jsxs("div",{children:["y: ",C.y.toFixed(1)]}),s.jsxs("div",{children:["w: ",C.w.toFixed(1)]}),s.jsxs("div",{children:["h: ",C.h.toFixed(1)]}),s.jsxs("div",{children:["rot: ",C.rot.toFixed(1),""]}),s.jsxs("div",{children:["scale: ",C.scale.toFixed(2)]})]}),s.jsxs("div",{ref:o,className:"relative bg-gray-700 border-2 border-gray-600",style:{width:"800px",height:"600px"},onClick:z=>{z.target===z.currentTarget&&O(null)},children:[s.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"linear-gradient(45deg, #666 25%, transparent 25%), linear-gradient(-45deg, #666 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #666 75%), linear-gradient(-45deg, transparent 75%, #666 75%)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 0 20px, 20px -20px, -20px 0px"}}),s.jsx(oh,{shape:u,transform:v,onSelect:()=>O("rect"),onCenterActionChange:z=>L(z),onResizeModeChange:(z,x)=>{R(z),ee(x)}}),s.jsx(sh,{shape:d,transform:w,onSelect:()=>O("circle"),onResizeModeChange:z=>W(z)})]})]})}function oh({shape:o,transform:u,onSelect:c,onCenterActionChange:d,onResizeModeChange:p}){const v=k.useRef(null),[w,P]=k.useState(null),[C,j]=k.useState(!1),O=k.useRef(null),B=k.useCallback((z,x)=>{O.current={relX:z,relY:x};const K=Math.min(o.width,o.height)*.05,Q=8,Ne=o.width/2,xe=o.height/2,re=Math.sqrt((z-Ne)**2+(x-xe)**2),b=40,te=Math.sqrt((z-0)**2+(x-0)**2),Ee=Math.sqrt((z-o.width)**2+(x-0)**2),Ie=Math.sqrt((z-0)**2+(x-o.height)**2),pe=Math.sqrt((z-o.width)**2+(x-o.height)**2);te<K?(P("corner-nw"),j(!0),p==null||p(!0,"nw"),d==null||d(null)):Ee<K?(P("corner-ne"),j(!0),p==null||p(!0,"ne"),d==null||d(null)):Ie<K?(P("corner-sw"),j(!0),p==null||p(!0,"sw"),d==null||d(null)):pe<K?(P("corner-se"),j(!0),p==null||p(!0,"se"),d==null||d(null)):x<Q&&z>K&&z<o.width-K?(P("edge-n"),j(!0),p==null||p(!0,"n"),d==null||d(null)):x>o.height-Q&&z>K&&z<o.width-K?(P("edge-s"),j(!0),p==null||p(!0,"s"),d==null||d(null)):z<Q&&x>K&&x<o.height-K?(P("edge-w"),j(!0),p==null||p(!0,"w"),d==null||d(null)):z>o.width-Q&&x>K&&x<o.height-K?(P("edge-e"),j(!0),p==null||p(!0,"e"),d==null||d(null)):(j(!1),p==null||p(!1,null),re<=b?(P("center-rotate"),d==null||d("rotate")):(P("center-move"),d==null||d("move")))},[o,d,p]),L=z=>{const x=z.currentTarget.getBoundingClientRect(),K=z.clientX-x.left,Q=z.clientY-x.top;B(K,Q)},I=z=>{if(!u.isTransforming){const x=z.currentTarget.getBoundingClientRect(),K=z.clientX-x.left,Q=z.clientY-x.top;B(K,Q)}};k.useEffect(()=>{if(O.current&&v.current){const{relX:z,relY:x}=O.current;B(z,x)}},[o.x,o.y,o.width,o.height,o.rotation,B]);const W=()=>{if(u.isTransforming)return u.activeHandle==="rotate","grabbing";switch(w){case"corner-nw":case"corner-se":return"nwse-resize";case"corner-ne":case"corner-sw":return"nesw-resize";case"edge-n":case"edge-s":return"ns-resize";case"edge-w":case"edge-e":return"ew-resize";case"center-rotate":return"grab";case"center-move":return"move";default:return"default"}},M=z=>{if(w==="center-rotate"){z.stopPropagation(),u.startTransform(z,"rotate",v.current||void 0);return}if(w==="center-move"){u.startTransform(z,"move",v.current||void 0);return}let x=null;switch(w){case"corner-nw":x="nw";break;case"corner-ne":x="ne";break;case"corner-sw":x="sw";break;case"corner-se":x="se";break;case"edge-n":x="n";break;case"edge-s":x="s";break;case"edge-w":x="w";break;case"edge-e":x="e";break}x&&(z.stopPropagation(),console.debug("[TransformPlayground] Resize start:",{handle:x,hoverZone:w,shape:o}),u.startTransform(z,x,v.current||void 0))},R=o.x+o.width/2,Z=o.y+o.height/2;let ee=o.rotation||0;return ee=(ee%360+360)%360,ee>359.5?ee=360:ee<.5&&(ee=0),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute z-10 pointer-events-none",style:{left:`${R-25}px`,top:`${Z-25}px`,width:"50px",height:"50px"},children:[s.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 50 50",className:"pointer-events-none",children:[s.jsx("line",{x1:"0",y1:"25",x2:"50",y2:"25",stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2",opacity:"0.7"}),s.jsx("line",{x1:"25",y1:"0",x2:"25",y2:"50",stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2",opacity:"0.7"})]}),(ee>.5||u.isTransforming&&u.activeHandle==="rotate")&&s.jsxs("div",{className:"absolute pointer-events-none select-none",style:{left:"25px",top:"-15px",transform:"translate(-50%, -100%)",transformOrigin:"50% 100%",color:"#f97316",fontSize:"14px",fontWeight:"bold",fontFamily:"system-ui, -apple-system, sans-serif",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)",whiteSpace:"nowrap",zIndex:2},children:[Math.round(ee),""]})]}),s.jsxs("div",{ref:v,className:"absolute pointer-events-auto touch-action-none",style:{left:`${o.x}px`,top:`${o.y}px`,width:`${o.width}px`,height:`${o.height}px`,transform:`rotate(${o.rotation}deg)`,transformOrigin:"center",cursor:W()},onMouseMove:L,onPointerMove:I,onMouseLeave:()=>{u.isTransforming||(P(null),j(!1),d==null||d(null),p==null||p(!1,null))},onPointerDown:z=>{c==null||c(),M(z)},onClick:z=>{z.stopPropagation(),c==null||c()},children:[s.jsx("div",{className:"w-full h-full border-2 border-orange-500 bg-orange-500/10 pointer-events-none"}),u.isTransforming&&u.activeHandle==="rotate"&&(()=>{const z=((o.rotation||0)%360+360)%360,x=z*Math.PI/180;return s.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 50 50",className:"pointer-events-none",style:{position:"absolute",left:"0",top:"0"},children:[s.jsx("path",{d:`M 25 5 A 20 20 0 ${z>180?1:0} ${z>0?1:0} ${25+20*Math.sin(x)} ${25-20*Math.cos(x)} L 25 25 Z`,fill:"rgba(249, 115, 22, 0.2)",stroke:"#f97316",strokeWidth:"1"}),s.jsx("line",{x1:"25",y1:"25",x2:25+20*Math.sin(x),y2:25-20*Math.cos(x),stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"})]})})(),w==="center-rotate"&&s.jsx("div",{className:"absolute pointer-events-none",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:s.jsx(Kc,{className:"w-5 h-5 text-white"})}),w==="center-move"&&!C&&s.jsx("div",{className:"absolute pointer-events-none",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:s.jsx(ha,{className:"w-5 h-5 text-white"})}),(w==="corner-nw"||w==="corner-ne"||w==="corner-sw"||w==="corner-se"||w==="edge-n"||w==="edge-s"||w==="edge-w"||w==="edge-e")&&s.jsx("div",{className:"absolute pointer-events-none",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx(Yc,{className:"w-3 h-3 text-white"}),s.jsx(bc,{className:"w-3 h-3 text-white"})]})})]})]})}function sh({shape:o,transform:u,onSelect:c,onResizeModeChange:d}){const p=k.useRef(null),[v,w]=k.useState(!1),[P,C]=k.useState(null),j=k.useRef(null);Math.min(o.width,o.height)/2;const O=k.useCallback((I,W)=>{j.current={relX:I,relY:W};const M=o.width/2,R=o.height/2,Z=Math.sqrt((I-M)**2+(W-R)**2),ee=Math.min(o.width,o.height)/2,x=Math.abs(Z-ee)<12;if(w(x),d==null||d(x),x){const K=Math.atan2(W-R,I-M)*(180/Math.PI);C(K)}else C(null)},[o.width,o.height,d]),B=I=>{const W=I.currentTarget.getBoundingClientRect(),M=I.clientX-W.left,R=I.clientY-W.top;O(M,R)};k.useEffect(()=>{if(j.current&&p.current){const{relX:I,relY:W}=j.current;O(I,W)}},[o.x,o.y,o.width,o.height,O]);const L=I=>{v?(I.stopPropagation(),u.startTransform(I,"radius",p.current||void 0)):(I.stopPropagation(),u.startTransform(I,"move",p.current||void 0))};return s.jsxs("div",{ref:p,className:"absolute pointer-events-auto touch-action-none",style:{left:`${o.x}px`,top:`${o.y}px`,width:`${o.width}px`,height:`${o.height}px`,cursor:u.isTransforming?(u.activeHandle==="radius","grabbing"):v&&P!==null?(()=>{let I=(P%360+360)%360;return I>=337.5||I<22.5?"ew-resize":I>=22.5&&I<67.5?"nwse-resize":I>=67.5&&I<112.5?"ns-resize":I>=112.5&&I<157.5?"nesw-resize":I>=157.5&&I<202.5?"ew-resize":I>=202.5&&I<247.5?"nwse-resize":I>=247.5&&I<292.5?"ns-resize":I>=292.5&&I<337.5?"nesw-resize":"nwse-resize"})():"move"},onMouseMove:B,onMouseLeave:()=>{w(!1),d==null||d(!1)},onPointerDown:I=>{c==null||c(),L(I)},onClick:I=>{I.stopPropagation(),c==null||c()},children:[s.jsx("div",{className:"w-full h-full border-2 border-blue-500 bg-blue-500/10 rounded-full pointer-events-none"}),!v&&s.jsx("div",{className:"absolute z-10 pointer-events-none",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px"},children:s.jsx("div",{className:"absolute cursor-move pointer-events-auto",style:{left:"30px",top:"30px",transform:"translate(-50%, -50%)",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(ha,{className:"w-5 h-5 text-white hover:text-blue-500 transition-colors"})})}),v&&s.jsx("div",{className:"absolute pointer-events-none",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:s.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[s.jsx(Yc,{className:"w-3 h-3 text-white"}),s.jsx(bc,{className:"w-3 h-3 text-white"})]})})]})}function ah(){const[o,u]=k.useState(""),[c,d]=k.useState(null),[p,v]=k.useState(!1);k.useEffect(()=>{(new URLSearchParams(window.location.search).get("playground")==="true"||window.location.pathname==="/transform-playground")&&v(!0)},[]);const w=j=>{d(j);const O=URL.createObjectURL(j);u(O)},P=j=>{console.log("Video seleccionado:",j.name)},C=()=>{o&&(URL.revokeObjectURL(o),u("")),d(null)};return p?s.jsx(ih,{}):s.jsxs("div",{className:"w-full bg-white min-h-screen flex items-center justify-center p-4",children:[!1,s.jsx("div",{className:"bg-black",style:{transform:"scale(0.81)",transformOrigin:"center center",width:"100%",maxWidth:"390px",margin:0,padding:0},children:s.jsx(Jp,{imageUrl:o,onImageSelect:w,onVideoSelect:P,onBack:C})})]})}kf.createRoot(document.getElementById("root")).render(s.jsx(hf.StrictMode,{children:s.jsx(ah,{})}));
